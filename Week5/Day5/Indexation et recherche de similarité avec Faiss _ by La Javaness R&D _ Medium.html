<!DOCTYPE html>
<!-- saved from url=(0077)https://lajavaness.medium.com/indexation-et-recherche-avec-faiss-c7675c42abb9 -->
<html lang="en" data-rh="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="origin-trial" content="A/kargTFyk8MR5ueravczef/wIlTkbVk1qXQesp39nV+xNECPdLBVeYffxrM8TmZT6RArWGQVCJ0LRivD7glcAUAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IkRpc2FibGVUaGlyZFBhcnR5U3RvcmFnZVBhcnRpdGlvbmluZzIiLCJleHBpcnkiOjE3NDIzNDIzOTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><title>Indexation et recherche de similarité avec Faiss | by La Javaness R&amp;D | Medium</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-02-06T15:10:30.869Z"><meta data-rh="true" name="title" content="Indexation et recherche de similarité avec Faiss | by La Javaness R&amp;D | Medium"><meta data-rh="true" property="og:title" content="Indexation et recherche de similarité avec Faiss"><meta data-rh="true" property="al:android:url" content="medium://p/c7675c42abb9"><meta data-rh="true" property="al:ios:url" content="medium://p/c7675c42abb9"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque développée par facebook, que j’ai découverte à l’occasion d’un…"><meta data-rh="true" property="og:description" content="Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque…"><meta data-rh="true" property="og:url" content="https://lajavaness.medium.com/indexation-et-recherche-avec-faiss-c7675c42abb9"><meta data-rh="true" property="al:web:url" content="https://lajavaness.medium.com/indexation-et-recherche-avec-faiss-c7675c42abb9"><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:1024/1*AnXWj9GRJnPYwX5w5otvyw.png"><meta data-rh="true" property="article:author" content="https://lajavaness.medium.com"><meta data-rh="true" name="author" content="La Javaness R&amp;D"><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" property="twitter:title" content="Indexation et recherche de similarité avec Faiss"><meta data-rh="true" name="twitter:site" content="@Medium"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/c7675c42abb9"><meta data-rh="true" property="twitter:description" content="Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque…"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1024/1*AnXWj9GRJnPYwX5w5otvyw.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:label1" content="Reading time"><meta data-rh="true" name="twitter:data1" content="14 min read"><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://lajavaness.medium.com/osd.xml"><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/unbound.css"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/unbound.css"><link data-rh="true" rel="author" href="https://lajavaness.medium.com/"><link data-rh="true" rel="canonical" href="https://lajavaness.medium.com/indexation-et-recherche-avec-faiss-c7675c42abb9"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/c7675c42abb9"><script type="text/javascript" async="" charset="utf-8" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/recaptcha__fr.js.téléchargement" crossorigin="anonymous" integrity="sha384-EFWfPMZQsF9+MfUaTcwMfUKL0vPe99nG26orVgr80hyQCVWYZkrCv3YpYn8nr8rF"></script><script async="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/branch-latest.min.js.téléchargement"></script><script async="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/shim.js.téléchargement"></script><style type="text/css" data-fela-rehydration="564" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="564" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-webkit-keyframes k2{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k2{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k2{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-webkit-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{width:auto}.av path{fill:#242424}.aw{height:25px}.ax{margin-left:16px}.ay{border:none}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{margin-left:24px}.br{height:24px}.bx{background-color:#F9F9F9}.by{border-radius:50%}.bz{height:32px}.ca{width:32px}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dw{margin-left:8px}.dx{color:#6B6B6B}.dy{font-size:13px}.dz{height:100%}.ec{margin-right:32px}.ed{position:relative}.ee{fill:#6B6B6B}.eh{background:transparent}.ei svg{margin-left:4px}.ej svg{fill:#6B6B6B}.el{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.em{position:absolute}.ep{box-sizing:border-box}.eq{margin-bottom:1px}.ff{margin-right:8px}.fg{display:inline}.fh{text-decoration:underline}.fn{right:24px}.fo{right:0}.fp:after{position:absolute}.fq:after{content:""}.fr:after{left:-8px}.fs:after{right:-8px}.ft:after{top:-8px}.fu:after{bottom:-8px}.ga{margin:0 24px}.ge{background:rgba(255, 255, 255, 1)}.gf{border:1px solid #F2F2F2}.gg{box-shadow:0 1px 4px #F2F2F2}.gh{max-height:100vh}.gi{overflow-y:auto}.gj{left:0}.gk{top:calc(100vh + 100px)}.gl{bottom:calc(100vh + 100px)}.gm{width:10px}.gn{pointer-events:none}.go{word-break:break-word}.gp{word-wrap:break-word}.gq:after{display:block}.gr:after{clear:both}.gs{line-height:1.23}.gt{letter-spacing:0}.gu{font-style:normal}.gv{font-weight:700}.hv{align-items:baseline}.hw{width:48px}.hx{height:48px}.hy{border:2px solid rgba(255, 255, 255, 1)}.hz{z-index:0}.ia{box-shadow:none}.ib{border:1px solid rgba(0, 0, 0, 0.05)}.ic{margin-bottom:2px}.id{flex-wrap:nowrap}.ie{font-size:16px}.if{line-height:24px}.ih{margin:0 8px}.ii{color:#1A8917}.ij{fill:#1A8917}.ik:disabled{opacity:0.3}.in{flex:0 0 auto}.iq{flex-wrap:wrap}.ir{padding-left:8px}.is{padding-right:8px}.jr> *{flex-shrink:0}.js{overflow-x:scroll}.jt::-webkit-scrollbar{display:none}.ju{scrollbar-width:none}.jv{-ms-overflow-style:none}.jw{width:74px}.jx{flex-direction:row}.jy{z-index:2}.jz{margin-right:4px}.kc{-webkit-user-select:none}.kd{border:0}.ke{cursor:progress}.kf{fill:rgba(117, 117, 117, 1)}.ki{opacity:0.25}.kj{outline:0}.kk{user-select:none}.kl> svg{pointer-events:none}.ku{opacity:1}.kv{padding:4px 0}.ky{margin-top:0px}.kz{width:16px}.la{padding:8px 2px}.ld svg path{fill:#6B6B6B}.le svg{color:#6B6B6B}.lv{color:rgba(255, 255, 255, 1)}.lw{z-index:700}.lx{top:-14px}.ly{left:50%}.lz{z-index:-1}.ma:after{content:''}.mb:after{width:11.3px}.mc:after{height:11.3px}.md:after{border-radius:2px 0}.me:after{background:#242424}.mf:after{transform:rotate(45deg) translate(6px, 6px)}.mg{background:#242424}.mh{border-radius:3px}.mi{overflow:hidden}.mj{padding:16px}.mk{max-width:200px}.ml{margin-bottom:12px}.mm{line-height:1.58}.mn{letter-spacing:-0.004em}.mo{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.nj{margin-bottom:-0.46em}.nk{line-height:1.12}.nl{letter-spacing:-0.022em}.nm{font-weight:600}.oh{margin-bottom:-0.28em}.oi{line-height:1.18}.oy{margin-bottom:-0.31em}.pe{font-style:italic}.pf{padding:2px 4px}.pg{font-size:75%}.ph> strong{font-family:inherit}.pi{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.po{clear:both}.pp{margin:auto}.pq{padding-bottom:100%}.pr{height:0}.ps{list-style-type:disc}.pt{margin-left:30px}.pu{padding-left:0px}.qa{overflow-x:auto}.qb{padding:32px}.qc{border:1px solid #E5E5E5}.qd{line-height:1.4}.qe{margin-top:-0.2em}.qf{margin-bottom:-0.2em}.qg{white-space:pre}.qh{min-width:fit-content}.qi{margin-left:auto}.qj{margin-right:auto}.qk{max-width:1024px}.qm{cursor:zoom-in}.qn{z-index:auto}.qp{max-width:100%}.qq{height:auto}.qr{margin-top:10px}.qs{text-align:center}.qt{max-width:728px}.qw{box-shadow:inset 3px 0 0 0 #242424}.qx{padding-left:23px}.qy{margin-left:-20px}.qz{max-width:2668px}.ra{max-width:3009px}.rb{max-width:2384px}.rc{max-width:515px}.rd{margin-bottom:26px}.re{margin-top:6px}.rf{margin-top:8px}.rg{padding:8px 16px}.rh{border-radius:100px}.ri{transition:background 300ms ease}.rk{white-space:nowrap}.rl{border-top:none}.rm{margin-bottom:50px}.rn{height:52px}.ro{max-height:52px}.rp{box-sizing:content-box}.rq{position:static}.rr{z-index:1}.rt{max-width:155px}.rz{margin-right:20px}.sa{margin-bottom:64px}.sp{height:64px}.sq{width:64px}.sr{align-self:flex-end}.ss{color:#F2F2F2}.st{fill:#F2F2F2}.su{background:#F2F2F2}.sv{border-color:#F2F2F2}.tb:disabled{cursor:inherit !important}.tc:disabled{opacity:0.1}.td:disabled:hover{background:rgba(25, 25, 25, 1)}.te:disabled:hover{border-color:rgba(25, 25, 25, 1)}.tf{border-radius:99em}.tg{border-width:1px}.th{border-style:solid}.ti{text-decoration:none}.tj{flex:1 1 auto}.tp{padding-right:4px}.tq{font-weight:500}.tx{white-space:pre-wrap}.ty{margin-top:16px}.tz{margin-bottom:54px}.ua{height:0px}.ub{gap:18px}.uc{fill:rgba(61, 61, 61, 1)}.uo{border-bottom:solid 1px #E5E5E5}.up{margin-top:72px}.uq{padding:24px 0}.ur{margin-bottom:0px}.us{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.ef:hover{color:#242424}.eg:hover{fill:#242424}.ek:hover svg{fill:#242424}.eo:hover{background-color:rgba(0, 0, 0, 0.1)}.ig:hover{text-decoration:underline}.il:hover:not(:disabled){color:#156D12}.im:hover:not(:disabled){fill:#156D12}.kh:hover{fill:rgba(117, 117, 117, 1)}.kw:hover{fill:#000000}.kx:hover p{color:#000000}.lb:hover:not(:disabled) svg path{fill:#000000}.lf:hover svg{color:#000000}.rj:hover{background-color:#F2F2F2}.so:hover{background-color:none}.sw:hover{background:#F2F2F2}.sx:hover{border-color:#F2F2F2}.sy:hover{cursor:wait}.sz:hover{color:#F2F2F2}.ta:hover{fill:#F2F2F2}.ud:hover{fill:rgba(25, 25, 25, 1)}.bd:focus-within path{fill:#242424}.kg:focus{fill:rgba(117, 117, 117, 1)}.lc:focus svg path{fill:#000000}.lg:focus svg{color:#000000}.qo:focus{transform:scale(1.01)}.km:active{border-style:none}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bw{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.eb{display:flex}.fa{padding:12px 0}.fb{align-items:center}.fc{justify-content:center}.fm{position:absolute}.fz{margin-bottom:50px}.gd{max-width:680px}.hq{font-size:42px}.hr{margin-top:1.19em}.hs{margin-bottom:32px}.ht{line-height:52px}.hu{letter-spacing:-0.011em}.jd{border-top:solid 1px #F2F2F2}.je{border-bottom:solid 1px #F2F2F2}.jf{margin:32px 0 0}.jg{padding:3px 8px}.jp> *{margin-right:24px}.jq> :last-child{margin-right:0}.kt{margin-top:0px}.nf{font-size:20px}.ng{margin-top:2.14em}.nh{line-height:32px}.ni{letter-spacing:-0.003em}.od{font-size:24px}.oe{margin-top:1.95em}.of{line-height:30px}.og{letter-spacing:-0.016em}.ov{margin-top:1.72em}.ow{line-height:24px}.ox{letter-spacing:0}.pd{margin-top:0.94em}.pn{margin-top:56px}.pz{margin-top:1.14em}.ry{display:inline-block}.sb{flex-direction:row}.se{margin-bottom:0}.sf{margin-right:20px}.tk{max-width:500px}.ui{margin:40px 0 0}.un{padding-top:72px}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ks{margin-top:0px}.qu{margin-left:auto}.qv{text-align:center}.rx{display:inline-block}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.kr{margin-top:0px}.rw{display:inline-block}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.kp{margin-top:0px}.kq{margin-right:0px}.rv{display:inline-block}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dt{justify-content:center}.er{padding:0}.es{align-items:flex-start}.fd{padding:16px 0}.fi{padding:13px 24px 0 24px}.fv{margin-bottom:2px}.gw{font-size:32px}.gx{margin-top:1.01em}.gy{margin-bottom:24px}.gz{line-height:38px}.ha{letter-spacing:-0.014em}.io{flex-direction:column}.it{margin:24px -24px 0}.jh> *{margin-right:8px}.ji> :last-child{margin-right:24px}.ka{margin-left:0px}.kn{margin-top:0px}.ko{margin-right:0px}.lh{border:1px solid #F2F2F2}.li{border-radius:99em}.lj{padding:0px 16px 0px 12px}.lk{height:38px}.ll{align-items:center}.ln svg{margin-right:8px}.mp{font-size:18px}.mq{margin-top:1.56em}.mr{line-height:28px}.ms{letter-spacing:-0.003em}.nn{font-size:20px}.no{margin-top:1.2em}.np{line-height:24px}.nq{letter-spacing:0}.oj{font-size:16px}.ok{margin-top:1.23em}.ol{line-height:20px}.oz{margin-top:0.67em}.pj{margin-top:40px}.pv{margin-top:1.34em}.ru{display:inline-block}.sm{margin-bottom:20px}.sn{margin-right:0}.to{max-width:100%}.tr{font-size:24px}.ts{line-height:30px}.tt{letter-spacing:-0.016em}.ue{margin:32px 0 0}.uj{padding-top:48px}.lm:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ea{display:flex}.ex{padding:12px 0}.ey{align-items:center}.ez{justify-content:center}.fl{position:absolute}.fy{margin-bottom:50px}.gc{max-width:680px}.hl{font-size:42px}.hm{margin-top:1.19em}.hn{margin-bottom:32px}.ho{line-height:52px}.hp{letter-spacing:-0.011em}.iz{border-top:solid 1px #F2F2F2}.ja{border-bottom:solid 1px #F2F2F2}.jb{margin:32px 0 0}.jc{padding:3px 8px}.jn> *{margin-right:24px}.jo> :last-child{margin-right:0}.nb{font-size:20px}.nc{margin-top:2.14em}.nd{line-height:32px}.ne{letter-spacing:-0.003em}.nz{font-size:24px}.oa{margin-top:1.95em}.ob{line-height:30px}.oc{letter-spacing:-0.016em}.os{margin-top:1.72em}.ot{line-height:24px}.ou{letter-spacing:0}.pc{margin-top:0.94em}.pm{margin-top:56px}.py{margin-top:1.14em}.sc{flex-direction:row}.sg{margin-bottom:0}.sh{margin-right:20px}.tl{max-width:500px}.uh{margin:40px 0 0}.um{padding-top:72px}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bu{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.dv{justify-content:center}.ev{padding:12px 0}.ew{align-items:center}.fk{position:absolute}.fx{margin-bottom:50px}.gb{max-width:680px}.hg{font-size:42px}.hh{margin-top:1.19em}.hi{margin-bottom:32px}.hj{line-height:52px}.hk{letter-spacing:-0.011em}.iv{border-top:solid 1px #F2F2F2}.iw{border-bottom:solid 1px #F2F2F2}.ix{margin:32px 0 0}.iy{padding:3px 8px}.jl> *{margin-right:24px}.jm> :last-child{margin-right:0}.mx{font-size:20px}.my{margin-top:2.14em}.mz{line-height:32px}.na{letter-spacing:-0.003em}.nv{font-size:24px}.nw{margin-top:1.95em}.nx{line-height:30px}.ny{letter-spacing:-0.016em}.op{margin-top:1.72em}.oq{line-height:24px}.or{letter-spacing:0}.pb{margin-top:0.94em}.pl{margin-top:56px}.px{margin-top:1.14em}.sd{flex-direction:row}.si{margin-bottom:0}.sj{margin-right:20px}.tm{max-width:500px}.ug{margin:40px 0 0}.ul{padding-top:72px}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bt{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.du{justify-content:center}.et{padding:0}.eu{align-items:flex-start}.fe{padding:16px 0}.fj{padding:13px 24px 0 24px}.fw{margin-bottom:2px}.hb{font-size:32px}.hc{margin-top:1.01em}.hd{margin-bottom:24px}.he{line-height:38px}.hf{letter-spacing:-0.014em}.ip{flex-direction:column}.iu{margin:24px 0 0}.jj> *{margin-right:8px}.jk> :last-child{margin-right:8px}.kb{margin-left:0px}.lo{border:1px solid #F2F2F2}.lp{border-radius:99em}.lq{padding:0px 16px 0px 12px}.lr{height:38px}.ls{align-items:center}.lu svg{margin-right:8px}.mt{font-size:18px}.mu{margin-top:1.56em}.mv{line-height:28px}.mw{letter-spacing:-0.003em}.nr{font-size:20px}.ns{margin-top:1.2em}.nt{line-height:24px}.nu{letter-spacing:0}.om{font-size:16px}.on{margin-top:1.23em}.oo{line-height:20px}.pa{margin-top:0.67em}.pk{margin-top:40px}.pw{margin-top:1.34em}.sk{margin-bottom:20px}.sl{margin-right:0}.tn{max-width:100%}.tu{font-size:24px}.tv{line-height:30px}.tw{letter-spacing:-0.016em}.uf{margin:32px 0 0}.uk{padding-top:48px}.lt:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="print">.rs{display:none}</style><style type="text/css" data-fela-rehydration="564" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ql{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style><link rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:190:190/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:150:150/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:95:95/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:75:75/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:625:625/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717" data-rh="true"><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F1*AnXWj9GRJnPYwX5w5otvyw.png"],"url":"https:\u002F\u002Flajavaness.medium.com\u002Findexation-et-recherche-avec-faiss-c7675c42abb9","dateCreated":"2023-02-06T08:02:32.407Z","datePublished":"2023-02-06T08:02:32.407Z","dateModified":"2023-02-07T04:16:16.515Z","headline":"Indexation et recherche de similarité avec Faiss - La Javaness R&D - Medium","name":"Indexation et recherche de similarité avec Faiss - La Javaness R&D - Medium","description":"Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque développée par facebook, que j’ai découverte à l’occasion d’un…","identifier":"c7675c42abb9","author":{"@type":"Person","name":"La Javaness R&D","url":"https:\u002F\u002Flajavaness.medium.com"},"creator":["La Javaness R&D"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Flajavaness.medium.com\u002F","logo":{"@type":"ImageObject","width":272,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:340\u002F7*V1_7XP4snlmqrc_0Njontw.png"}},"mainEntityOfPage":"https:\u002F\u002Flajavaness.medium.com\u002Findexation-et-recherche-avec-faiss-c7675c42abb9"}</script><script async="true" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/js" data-rh="true"></script><script data-rh="true">window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-7JY7T788PK');</script><script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/enterprise.js.téléchargement" data-rh="true"></script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener banner closeBanner closeJourney data deepview deepviewCta first init link logout removeListener setBranchViewData setIdentity track trackCommerceEvent logEvent disableTracking getBrowserFingerprintId crossPlatformIds lastAttributedTouchData setAPIResponseCallback qrCode setRequestMetaData setAPIUrl getAPIUrl setDMAParamsForEEA".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script><style data-fela-type="RULE" type="text/css" media="(orientation: landscape) and (max-width: 903.98px)"></style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div><script>if (window.self !== window.top) window.location = "about:blank"</script></div><div class="l c"><div class="l m n o c" style="transform: translateY(0px);"><div class="am q r s dt u du w dv i d y z"><a class="dx ag dy bf ak b am an ao ap aq ar as at s u w i d q dz z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc7675c42abb9&amp;%7Efeature=LiOpenInAppButton&amp;%7Echannel=ShowPostUnderUser&amp;source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dw"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" href="https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" viewBox="0 0 719 160" class="au av aw"><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ax h"><div class="ab ay az ba bb q bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ay be bf bg z bh bi bj bk bl" placeholder="Search" value=""></div></div></div><div class="h k w ea eb"><div class="ec ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" href="https://medium.com/new-story?source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow"><div class="bf b bg z dx ed ee ab q ef eg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dw l">Write</div></div></a></div></div><div class="k j i d"><div class="ec ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" href="https://medium.com/search?source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow"><div class="bf b bg z dx ed ee ab q ef eg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="ec ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerNotificationButton" href="https://medium.com/me/notifications?source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow"><div class="bf b bg z dx ed ee ab q ef eg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Notifications"><path stroke="currentColor" stroke-linecap="round" d="M15 18.5a3 3 0 1 1-6 0"></path><path stroke="currentColor" stroke-linejoin="round" d="M5.5 10.532V9a6.5 6.5 0 0 1 13 0v1.532c0 1.42.564 2.782 1.568 3.786l.032.032c.256.256.4.604.4.966v2.934a.25.25 0 0 1-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.934c0-.363.144-.71.4-.966l.032-.032A5.35 5.35 0 0 0 5.5 10.532Z"></path></svg></div></a></div><div class="l" aria-hidden="false"><button class="ay eh am ab q ao ei ej ek" aria-label="user options menu" data-testid="headerUserIcon"><div class="l ed"><div class="l ed"><img alt="Ahachemi Maths" class="l ep by bz ca cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_uV00uATaWO0YNC9E.png" width="32" height="32" loading="lazy"><div class="el by l bz ca em n ay eo"></div></div></div></button></div></div></div><div class="l"><div class="bx eq"><div class="er es t et eu v ev ew dv ex ey ez fa fb fc ab ed"><div class="fd es fe eu ew ey fb ab ed"><div class="ut uu uv uw ux uy uz ab"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" viewBox="0 0 64 64" role="presentation" aria-hidden="true" focusable="false" class="va vb"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div><p class="bf b bg z bk"><span class="ff fg">Get unlimited access to the best of Medium for less than $1/week.</span><div class="bm"><a class="af ag ah ai aj ak al am an ao ap aq ar fh bm" href="https://medium.com/plans?source=upgrade_membership---post_top_nav_upsell-----------------------------------------" rel="noopener follow"><div class="j i d"><span class="tq fp fq vc vd ve vf">Become a member</span></div><div class="h k"><span class="tq">Become a member</span></div></a></div></p></div><div class="fi fj fk fl fm l fn"><div class="h k"><div class="l ed n fo"><button class="af ag ah ai aj ak al am an ao ap aq ar as at ab" data-testid="close-button" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="ee dx eg ef"><path stroke="currentColor" stroke-linecap="round" d="m5 5 7 7m7 7-7-7m0 0 7-7m-7 7-7 7"></path></svg></button></div></div><div class="j i d"><div class="l ed n fo"><button class="af ag ah ai aj ak al am an ao ap aq ar as at ab ed fp fq fr fs ft fu" data-testid="close-button" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="ee dx eg ef"><path stroke="currentColor" stroke-linecap="round" d="m5 5 7 7m7 7-7-7m0 0 7-7m-7 7-7 7"></path></svg></button></div></div></div></div></div><div class="rs" role="dialog" aria-modal="true" tabindex="-1"><div class="vi vj bh dz vk vl vm ao vn gn vo" aria-hidden="true" role="presentation"></div><div class="vp vk vq vr vs vi dz ep vt vu vv ku vw vx vy vz wa wb wc wd we wf ab co wg" aria-hidden="true"><div class="wh gi"></div></div></div><div class="fv fw fx fy fz l"><div class="ab cb"><div class="ci bh ga gb gc gd"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="em gj wi gl gm gn"></div><div class="go gp gq fq gr"><div class="ab cb"><div class="ci bh ga gb gc gd"><div><h1 id="6c4c" class="pw-post-title gs gt gu bf gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu bk" data-testid="storyTitle" data-selectable-paragraph="">Indexation et recherche de similarité avec Faiss</h1><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="es eu ew ey fb ab"><div><div class="ab hv"><div><div class="bm" aria-hidden="false" aria-describedby="1" aria-labelledby="1"><a rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---byline--c7675c42abb9---------------------------------------"><div class="l hw hx by hy hz"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by dd de cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg.png" width="44" height="44" loading="lazy" data-testid="authorPhoto"><div class="ia by l dd de em n ib eo"></div></div></div></a></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex: 1 1 0%;"><span class="bf b bg z bk"><div class="ic ab q"><div class="ab q id"><div class="ab q"><div><div class="bm" aria-hidden="false" aria-describedby="2" aria-labelledby="2"><p class="bf b ie if bk"><a class="af ag ah ai aj ak al am an ao ap aq ar ig" data-testid="authorName" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---byline--c7675c42abb9---------------------------------------">La Javaness R&amp;D</a></p></div></div></div><span class="ih fg" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b ie if dx"><button class="ii ij ah ai aj ak al am an ao ap aq ar ik il im">Follow</button></p></div></div></span></div></div><div class="l in"><span class="bf b bg z dx"><div class="ab cn io ip iq"><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">14 min read</span><div class="ir is l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Feb 6, 2023</span></div></span></div></span></div></div></div><div class="ab cp it er iu et iv iw ix iy iz ja jb jc jd je jf jg"><div class="h k w ea eb q"><div class="jw l"><div class="ab q jx jy"><div class="pw-multi-vote-icon ed jz ka kb kc"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="53" aria-labelledby="53"><button class="kd ao kf yi yj kj am kk kl km kc" data-testid="headerClapButton"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="pw-multi-vote-count l kn ko kp kq kr ks kt"><div><div class="bm" aria-hidden="false" aria-describedby="54" aria-labelledby="54"><p class="bf b dy z dx"><button class="af ag ah ai aj ak al am an ao ap aq ar as at yk xi">66<span class="l h g f rx ry"></span></button></p></div></div></div></div></div><div><div class="bm" aria-hidden="false" aria-describedby="3" aria-labelledby="3"><button class="ao kd ku kv ab q ee kw kx" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ky"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div><div class="ab q jh ji jj jk jl jm jn jo jp jq jr js jt ju jv"><div class="kz k j i d"></div><div class="h k"><div><div class="bm" aria-hidden="false" aria-describedby="4" aria-labelledby="4"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al la an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false" aria-describedby="5" aria-labelledby="5"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al la an ao ap ik le lf kx lg lh li lj lk s ll lm ln lo lp lq lr u ls lt lu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="58" aria-labelledby="58"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al la an ao ap ik le lf kx lg lh li lj lk s ll lm ln lo lp lq lr u ls lt lu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div></div></div><p id="0338" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque développée par facebook, que j’ai découverte à l’occasion d’un projet de NLP. Je passe brièvement sur le contexte du problème et l’intérêt d’utiliser faiss, et je poursuis avec une explication technique des trois principaux indexes proposés par faiss : inverted file index, product quantization, et hierarchical navigable small worlds.</p><h1 id="a432" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Introduction</h1><h2 id="73aa" class="oi nl gu bf nm oj ok ol nq om on oo nu mx op oq or nb os ot ou nf ov ow ox oy bk" data-selectable-paragraph="">Contexte : le projet Grand Débat</h2><p id="769c" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Le projet Grand Débat est un projet de R&amp;D mené par La Javaness en automne 2022. Le but était d’appliquer nos compétences et connaissances en NLP et visualisation de données pour créer une application permettant d’explorer les contributions citoyennes récoltées lors du <a class="af fh" href="https://granddebat.fr/" rel="noopener ugc nofollow" target="_blank">Grand Débat National</a>.</p><p id="387e" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">L’une des fonctionnalités que nous souhaitions implémenter était la recherche de contributions similaires à une proposition entrée par l’utilisateur. Plutôt que d’utiliser un moteur de recherche par mots-clés, comme c’est possible par exemple avec Elasticsearch, on souhaite ici permettre à l’utilisateur de visualiser des contributions sémantiquement similaires à la sienne. Nous avons donc décidé de faire usage du <a class="af fh" href="https://huggingface.co/dangvantuan/sentence-camembert-large" rel="noopener ugc nofollow" target="_blank">moteur d’embedding</a> développé par un de nos data scientists, et d’effectuer une recherche de similarité. (Note : un moteur d’embedding est optimisé pour que des phrases ayant un contenu sémantique similaire soient encodées par des vecteurs proches).</p><h2 id="41a7" class="oi nl gu bf nm oj ok ol nq om on oo nu mx op oq or nb os ot ou nf ov ow ox oy bk" data-selectable-paragraph="">À quoi sert un index ?</h2><p id="6547" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Nous avons donc une base de données de plusieurs millions de contributions, découpées en phrases (ou en groupes de phrases) à l’aide d’un tokenizer, puis transformées en vecteurs de taille 1024 par le moteur d’embedding. Lorsque l’utilisateur entre une proposition (aussi appelée requête), cette proposition est elle aussi transformée en vecteur ; on peut ainsi calculer la distance entre notre proposition et la contribution d’un utilisateur (ce qu’on ne pourrait pas faire directement avec du texte).</p><p id="1993" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Pour effectuer une recherche, on pourrait naïvement calculer individuellement cette distance avec toutes les contributions dans notre base de données, et renvoyer la contribution plus proche de la requête. Cela devient vite un casse-tête lorsque la taille de la base de données augmente (non seulement il faut la charger en mémoire, mais en plus on doit faire le calcul de distance pour toutes les contributions).</p><p id="4a82" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">C’est là qu’intervient le concept d’index : plutôt que de charger toute la base de données en mémoire et de faire plusieurs millions de calculs pour trouver le vecteur le plus proche de notre requête, on va effectuer cette recherche sur une <em class="pe">représentation</em> de la base de données : par exemple, on va la découper en “zones” et ne chercher que dans la zone autour de notre requête, ou on va compresser les vecteurs de la base pour en réduire la taille, etc. C’est cette représentation qu’on appelle l’index.</p><h2 id="ea42" class="oi nl gu bf nm oj ok ol nq om on oo nu mx op oq or nb os ot ou nf ov ow ox oy bk" data-selectable-paragraph="">Faiss</h2><p id="6572" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Faiss, c’est Fast AI Similarity Search, un module développé par facebook AI pour l’indexation et la recherche dans un ensemble de vecteurs.</p><p id="b0c5" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Plusieurs types d’indexes sont implémentés dans faiss, à des niveaux de sophistication différents allant de la simple recherche exhaustive, à des indexes compressés et très rapides (permettant la recherche dans des ensembles de l’ordre de plusieurs milliards de vecteurs). Différents indexes présentent différents avantages et inconvénients : en général, il y aura toujours une forme d’équilibre à trouver entre la précision (à quel point la contribution retournée est proche de la requête), et la performance (vitesse et/ou taille en mémoire).</p><p id="fc75" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Cet article est accompagné d’un <a class="af fh" href="https://github.com/ljnmedium/les-index-de-faiss" rel="noopener ugc nofollow" target="_blank">notebook </a>qui présente des exemples/tests sur un dataset généré aléatoirement.</p><h1 id="0821" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Installation et création d’un index plat (recherche exhaustive).</h1><p id="7248" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Il existe deux versions (et donc deux paquets), <a class="af fh" href="https://pypi.org/project/faiss-cpu/" rel="noopener ugc nofollow" target="_blank">faiss-cpu </a>et <a class="af fh" href="https://pypi.org/project/faiss-gpu/" rel="noopener ugc nofollow" target="_blank">faiss-gpu</a>. On installe avec pip :</p><p id="b5c6" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph=""><code class="cx pf pg ph pi b">pip install faiss-cpu</code></p><p id="151f" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">On commence par créer un index plat(<code class="cx pf pg ph pi b">IndexFlatL2</code>) : nos vecteurs sont stockés tels quels, et la recherche est exhaustive. En gros, on ne fait rien de spécial. Ce type d’index renvoie des résultats exacts : comme nos vecteurs ne sont pas compressés, et qu’on cherche dans toute la base, on est sûr que le résultat de notre requête sera LE vecteur le plus proche (et pas un autre). En revanche, cela consomme pas mal de mémoire (on stocke tous les vecteurs) et c’est assez long (on compare la requête avec tout l’ensemble).</p><p id="7db1" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Pour initialiser la classe, faiss aura besoin de la dimension <code class="cx pf pg ph pi b">d</code> de nos vecteurs. On ajoute ensuite les vecteurs à l’index avec <code class="cx pf pg ph pi b">index.add()</code>. Par défaut, faiss s’attend à un array de dimension (<em class="pe">n_vecteurs</em> x <em class="pe">d</em>).</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afv pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/ff55499e705e6c55c705c64e15aec394.html" allowfullscreen="" frameborder="0" height="322" width="680" title="beatriceljn-faiss-1" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><p id="2f4b" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">On effectue une recherche avec <code class="cx pf pg ph pi b">index.search(xq, k)</code>, où</p><ul class=""><li id="5785" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph=""><code class="cx pf pg ph pi b">xq</code> est notre requête. Il peut s’agir d’un seul vecteur ou d’un array de plusieurs vecteurs (si on veut chercher plusieurs vecteurs d’un coup).</li><li id="2679" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph=""><code class="cx pf pg ph pi b">k</code> est le nombre de résultats par vecteur à renvoyer.</li></ul><p id="0d1c" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Donc si on veut les 5 résultats les plus proches de 4 vecteurs donnés, <code class="cx pf pg ph pi b">xq</code> sera de dimension (4, d) et <code class="cx pf pg ph pi b">k</code> sera égal à 5.</p><p id="7588" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La méthode <code class="cx pf pg ph pi b">.search()</code> renvoie deux objets :</p><ul class=""><li id="c154" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">une matrice D des distances, de taille (n, k) également, où la i-ème ligne contient les distances (au carré) des k vecteurs les plus proches du i-ème vecteur de la requête.</li><li id="8522" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">le résultat de notre recherche : une matrice I de taille (n, k) où n est le nombre de vecteurs dans notre requête. La i-ème ligne contient les indices des k vecteurs les plus proches du i-ème vecteur de la requête.</li></ul><h2 id="f372" class="oi nl gu bf nm oj ok ol nq om on oo nu mx op oq or nb os ot ou nf ov ow ox oy bk" data-selectable-paragraph="">Un exemple</h2><p id="f5b1" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Avec la commande suivante :</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afw pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/135c59051b2b442306d7b51a48fa41c8.html" allowfullscreen="" frameborder="0" height="58" width="680" title="beatriceljn-faiss-10" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><p id="f1a6" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">on demande à faiss de chercher les vecteurs les plus proches des trois premiers vecteurs de notre dataset.</p><p id="d77f" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Faiss renvoie la matrice I (indices) suivante :</p><pre class="pj pk pl pm pn qa pi qb bp qc bb bk"><span id="bfda" class="qd nl gu pi b bg qe qf l qg qh" data-selectable-paragraph=""><span class="hljs-string">[[    0 18096 23340 69719 76760]<br> [    1 21442 14241 16511 88648]<br> [    2 31767 77193 90699 42060]]</span></span></pre><p id="6278" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La première ligne contient les indices des 5 vecteurs les plus proches du vecteur 0 dans la base ; sans surprise, le vecteur le plus proche du vecteur 0 est lui-même. Le deuxième vecteur le plus proches est le vecteur n°18096, etc.</p><p id="12ce" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La deuxième ligne contient les indices des 5 vecteurs les plus proches du vecteur 1, et pareil pour la troisième ligne.</p><p id="b35d" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La matrice D (distance) renvoyée se présente quant à elle sous la forme suivante :</p><pre class="pj pk pl pm pn qa pi qb bp qc bb bk"><span id="6f06" class="qd nl gu pi b bg qe qf l qg qh" data-selectable-paragraph=""><span class="hljs-string">[[ 0.       14.362421 14.602067 14.767819 15.029004]<br> [ 0.       12.729409 13.443033 13.679935 14.520304]<br> [ 0.       13.01179  13.469017 13.666645 13.668671]]</span></span></pre><p id="a0f0" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La première ligne contient les distances des 5 vecteurs les plus proches du premier vecteur de la base. On peut donc voir que le vecteur 0 est à une distance 0 de lui-même, que le vecteur 18096 est à une distance de 14.36, que le vecteur 88648 est à une distance 14.52 du vecteur 1, etc.</p><h1 id="1936" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Plus rapide : l’index inversé.</h1><p id="890c" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Faiss permet la création d’un index inversé (IVF, inverted file index), qui permet de réduire le nombre de vecteurs qu’on compare à notre requête.</p><ul class=""><li id="949e" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">Lors de la création de l’index, on regroupe nos vecteurs en clusters (cellules, dans le langage faiss) avec k-means.</li><li id="858b" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">Au moment de la recherche, on compare notre requête aux centroïdes des cellules et on sélectionne les plus proches de la requête.</li><li id="aa65" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">On compare ensuite notre requête aux vecteurs qui sont situés dans les cellules sélectionnées.</li></ul><p id="2237" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le nombre de cellules créées au moment de l’indexing, ainsi que le nombre de cellules visitées lors de la recherche, sont des paramètres à déterminer.</p><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj qk"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnXWj9GRJnPYwX5w5otvyw.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*AnXWj9GRJnPYwX5w5otvyw.png 640w, https://miro.medium.com/v2/resize:fit:720/1*AnXWj9GRJnPYwX5w5otvyw.png 720w, https://miro.medium.com/v2/resize:fit:750/1*AnXWj9GRJnPYwX5w5otvyw.png 750w, https://miro.medium.com/v2/resize:fit:786/1*AnXWj9GRJnPYwX5w5otvyw.png 786w, https://miro.medium.com/v2/resize:fit:828/1*AnXWj9GRJnPYwX5w5otvyw.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*AnXWj9GRJnPYwX5w5otvyw.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*AnXWj9GRJnPYwX5w5otvyw.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="700" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_AnXWj9GRJnPYwX5w5otvyw.png"></picture></div></div><figcaption class="qr qs qt qi qj qu qv bf b bg z dx" data-selectable-paragraph="">Cellules et centroïdes (<a class="af fh" href="https://commons.wikimedia.org/wiki/File:Euclidean_Voronoi_diagram.svg" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="0c16" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Ci-dessous, un exemple avec une dimension d’embedding de 1024, et dix cellules :</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afv pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/d486265ab5bce112daed78281d989953.html" allowfullscreen="" frameborder="0" height="322" width="680" title="beatriceljn-faiss-2" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><p id="f003" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le paramètre <code class="cx pf pg ph pi b">quantizer</code> spécifie quelle représentation des vecteurs on va utiliser pour calculer les clusters. Ici on utilise un index plat, c’est-à-dire qu’on va clusteriser les vecteurs sans en réduire la dimension ou les compresser.</p><p id="a13b" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">On initialise la classe, et on entraîne l’index pour créer nos cellules (note : ça peut être fait sur un extrait représentatif des données). Enfin, on ajoute nos données à l’index, qui va les répartir dans les cellules.</p><p id="2260" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le paramètre <code class="cx pf pg ph pi b">nprobe</code> spécifie combien de cellules on souhaite visiter lors de la recherche (on prendra alors les <code class="cx pf pg ph pi b">nprobe</code> cellules dont les centroïdes sont les plus proches de notre requête).</p><blockquote class="qw qx qy"><p id="2961" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph=""><strong class="mo gv">Terminologie, cellules, et équilibre vitesse-précision</strong></p><p id="176f" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La terminologie <em class="gu">index inversé</em> vient du fait qu’on assigne d’abord un numéro de cluster à chaque vecteur, puis qu’on écrit une table indexée par numéro de cluster, contenant l’ensemble des vecteurs dans chaque cluster. Ce serait un peu comme un annuaire organisé par adresse plutôt que par nom.</p><p id="0a3e" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Les clusters sont appelés <em class="gu">cellules</em> en référence aux cellules de Voronoï, un pavage de l’espace tel que tout point est assigné à une cellule dont il est plus proche du centroïde que de tous les autres centroïdes. Le clustering est effectué via K-means.</p><p id="4b93" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Plus on a de cellules, et plus les cellules sont petites, donc plus la recherche sera rapide. En revanche, on perd en précision : si le vecteur le plus proche de notre requête n’est pas dans la même cellule (par exemple si on est un peu au bord d’une cellule), alors il ne sera pas retourné par la recherche.</p></blockquote><h1 id="d5f4" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Plus compact : la quantization (compression)</h1><p id="347a" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Si on ne souhaite pas stocker en mémoire l’intégralité de notre ensemble de vecteurs, on peut se tourner vers une solution de compression proposée par faiss : la <em class="pe">product quantization</em>.</p><ul class=""><li id="cf02" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">On commence par découper nos vecteurs en <em class="pe">segments</em>, c’est-à-dire en sous-vecteurs d’une longueur donnée. Par exemple, dans un vecteur de taille 1000, on peut faire 10 segments de taille 100.</li><li id="fafc" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">On effectue un clustering sur l’ensemble des premiers segments, puis sur l’ensemble des deuxièmes segments, etc… dans notre exemple, cela correspond à effectuer 10 clusterings différents, chacun sur un espace de dimension 100.</li><li id="2fe9" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">Pour stocker un vecteur dans notre index, on le découpe en segments, puis on calcule à quelle cellule appartient chaque segment (disons qu’on a choisi de faire 20 cellules). On peut ensuite remplacer chaque segment par l’ID de la cellule correspondante.</li><li id="54e9" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">Dans notre exemple, on aura donc remplacé un vecteur de taille 1000 par un vecteur de taille 10, dont chaque coordonnée sera un nombre entre 1 et 20 (correspondant à une cellule).</li><li id="23b3" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">On ne peut plus retrouver le vecteur d’origine, mais seulement une approximation, en recollant les 10 centroïdes (de taille 100) correspondant aux cellules.</li></ul><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj qz"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*McH4Vg5Uqr-6PV5b0klzsg.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="394" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_McH4Vg5Uqr-6PV5b0klzsg.jpg"></picture></div></div><figcaption class="qr qs qt qi qj qu qv bf b bg z dx" data-selectable-paragraph="">Le processus de quantization illustré avec des vecteurs de dimension 16, et 4 segments. Les segments orange sont répartis en clusters, puis leurs coordonnées sont remplacées par les numéros de cluster dans le vecteur original. L’opération est ensuite répétée pour les autres segments.</figcaption></figure><p id="0668" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La taille de l’index en mémoire est grandement réduite, mais la compression n’est pas sans perte d’information, et la précision de la recherche peut en souffrir : en théorie deux vecteurs peuvent se retrouver avec les mêmes combinaisons de centroïdes, et donc les mêmes coordonnées.</p><p id="8bd1" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le code :</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afx pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2e23f23e7dc9171a32e92af68b45bd8c.html" allowfullscreen="" frameborder="0" height="256" width="680" title="beatriceljn-faiss-3" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><p id="8cdc" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Encore une fois, on initialise l’index puis on l’entraîne et on ajoute nos vecteurs. Cette opération peut prendre du temps sur de gros volumes de données.</p><p id="a296" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Note : l’index choisi ici est un <code class="cx pf pg ph pi b">IVFPQ</code> , c’est-à-dire un index inversé avec product quantization. Dans ce cas, le paramètre <code class="cx pf pg ph pi b">N_CELLS</code> correspondra au nombre de cellules de Voronoï dans l’index inversé, et également au nombre de cellules utilisées dans la quantization. On pourra aussi jouer avec le paramètre <code class="cx pf pg ph pi b">nprobe</code> pour la recherche.</p><blockquote class="qw qx qy"><p id="dc9b" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph=""><strong class="mo gv">Le paramètre </strong><code class="cx pf pg ph pi b">quantizer</code></p><p id="4ed6" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le paramètre <code class="cx pf pg ph pi b">quantizer</code> détermine comment on va effectuer la recherche parmi nos centroïdes. Ici, on choisit un index plat, c’est-à-dire qu’on va effectuer une recherche exhaustive.</p><p id="ff5b" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Pour une centaine de centroïdes, c’est assez logique, mais lorsque les jeux de données deviennent conséquents, on va chercher à optimiser cette recherche. On aura donc deux indexes : un index pour les vecteurs, et un index pour les centroïdes.</p></blockquote><h1 id="50de" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Un autre paradigme : Hierarchical Navigable Small Worlds (HNSW)</h1><p id="9b78" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Le fait de découper le jeu de données en cellules permet de se rapporter à un problème plus petit, mais fondamentalement, on effectue la même opération : une recherche exhaustive dans chaque cellule que l’on visite. Notre seul levier d’action en termes de vitesse est alors de diminuer le nombre de vecteurs auxquels on va comparer notre requête (soit en augmentant le nombre de cellules, qui seront alors plus petites, soit en diminuant le nombre de cellules visitées par requête) ; cette méthode a ses limites (notamment quand la dimension devient importante).</p><p id="37f7" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Un autre paradigme de recherche implémenté dans faiss permet de court-circuiter certains vecteurs en ne comparant notre requête qu’aux plus pertinents : le Hierarchical Navigable Small Worlds (HNSW).</p><p id="2844" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le HNSW est construit à partir du NSW (Navigable Small Worlds), qui fonctionne comme suit :</p><ul class=""><li id="a396" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">on construit un graphe des vecteurs (note : la construction est détaillée plus bas) ; on s’arrange pour que les paires de vecteurs assez proches soient reliées par une arête, mais aussi pour qu’on ait des arêtes un peu plus longues</li><li id="aa70" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">on démarre notre recherche en comparant notre requête à un vecteur déterminé à l’avance : le point d’entrée</li><li id="9729" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">ensuite, on compare la requête aux vecteurs qui sont reliés à ce premier vecteur, et on choisit le plus proche</li><li id="5a6f" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">on continue jusqu’à ce qu’on ne puisse plus améliorer la distance, ou qu’on ait atteint un nombre pré-déterminé d’itérations</li></ul><p id="0b49" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Ci-dessous une illustration de NSW : on entre dans le graphe par le point d’entrée (en forme d’étoile). À chaque étape, parmi les points reliés au nôtre, on choisit le point le plus proche de la requête (en rouge, en haut). On s’arrête quand on a atteint un minimum. Le chemin suivi est représenté par les lignes solides (en jaune), et les comparaisons effectuées en lignes pointillées. Le reste du graphe est représenté en filigrane pour ne pas surcharger l’image.</p><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj qz"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*-QXpxvZ0i6_jek8gOlB3-g.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="394" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_-QXpxvZ0i6_jek8gOlB3-g.jpg"></picture></div></div></figure><p id="9150" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">C’est un algorithme glouton, qui va donc renvoyer un minimum local. Pour qu’il soit aussi proche possible du vrai minimum (LE vecteur le plus proche de notre requête), il faut s’assurer que notre maillage est assez dense. Mais si le maillage est trop dense, on multiplie les comparaisons, et la complexité de la recherche. C’est là qu’entre en jeu la notion de graphes <em class="pe">hiérarchiques</em>.</p><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj qz"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="394" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_fvKFW4uXdaOmAMe_bPNk2Q.jpg"></picture></div></div><figcaption class="qr qs qt qi qj qu qv bf b bg z dx" data-selectable-paragraph="">Un graphe HNSW simplifié. La requête est symbolisée par le point rouge en haut à gauche. Le point d’entrée est le point le plus en haut à droite. On voyage le long des arêtes du graphe jusqu’à ce qu’on ne puisse plus améliorer la distance à la requête. Puis on descend d’un étage.</figcaption></figure><p id="3b84" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Imaginons que l’on découpe notre graphe en trois étages :</p><ul class=""><li id="206f" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">troisième étage : un graphe avec, disons, seulement un vecteur sur 100, pris au hasard, et reliés entre eux selon leur proximité, comme décrit précédemment.</li><li id="65ec" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">deuxième étage : un graphe comprenant un vecteur sur 10 (les mêmes vecteurs qu’au troisième étage + d’autres vecteurs) ; encore une fois, on les relie entre eux selon leur proximité.</li><li id="aaf9" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">premier étage : un graphe comprenant tous les vecteurs.</li></ul><p id="178e" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Ainsi, quand on veut effectuer une recherche, on commence par naviguer au troisième étage. Une fois qu’on ne peut plus améliorer la distance, on “descend” dans le deuxième étage, et on affine notre résultat. Puis dans le premier étage.</p><p id="1deb" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Cette approche a deux avantages :</p><ul class=""><li id="6a2f" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">en moyenne, on prend moins de temps à trouver notre minimum local</li><li id="318e" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">on peut se permettre de relier des vecteurs très lointains dans les couches supérieures, sans risquer de trop densifier le maillage</li></ul><p id="d5ae" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">En termes de code, pour générer un HNSW plat :</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afy pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0a330f04227b08ac7f5629c0321e3883.html" allowfullscreen="" frameborder="0" height="190" width="680" title="beatriceljn-faiss-4" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><p id="00a1" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La taille en mémoire et le temps d’entraînement sont considérables : c’est un index qui est utile pour de gros volumes de données, mais pas vraiment pour un petit dataset (j’ai testé avec ~400k vecteurs, ce n’est pas concluant du tout).</p><blockquote class="qw qx qy"><p id="6b20" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph=""><strong class="mo gv">La construction du graphe HSNW en détails</strong></p><p id="fe70" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Pour construire le graphe HNSW, on procède par étapes.</p><p id="ed62" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">1. On détermine (en fonction du dataset) combien de voisins <code class="cx pf pg ph pi b">M</code> chaque point doit avoir dans le graphe.</p><p id="e7ba" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">2. Pour chaque niveau, on calcule une probabilité (qui dépend de <code class="cx pf pg ph pi b">M</code>) : celle qu'un vecteur appartienne à ce niveau. Le niveau 0, le plus bas, contiendra tous les points (donc la probabilité est de 1). La probabilité décroit exponentiellement avec le niveau (donc plus le niveau est élevé et moins il contient de points).</p><p id="fa60" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">3. Lorsqu’on insère un nouveau point <code class="cx pf pg ph pi b">p</code> dans le graphe, on génère un nombre uniforme entre 0 et 1 pour déterminer le niveau maximum <code class="cx pf pg ph pi b">l_max</code>dans lequel ce point sera présent. Il sera présent dans ce niveau, et dans tous ceux en-dessous.</p><p id="b8ca" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">4. On insère le point <code class="cx pf pg ph pi b">p</code> dans chaque niveau jusqu'à <code class="cx pf pg ph pi b">l_max</code>, et on le connecte à chaque fois aux <code class="cx pf pg ph pi b">M</code> points les plus proches dans ce niveau. Au niveau 0, on le connecte aux <code class="cx pf pg ph pi b">2*M</code> points les plus proches.</p><p id="ee12" class="mm mn pe mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">5. Petite subtilité : si un voisin de <code class="cx pf pg ph pi b">p</code> (disons, <code class="cx pf pg ph pi b">q</code>) a déjà un autre voisin <code class="cx pf pg ph pi b">r</code>, et que <code class="cx pf pg ph pi b">r</code> est plus proche de <code class="cx pf pg ph pi b">q</code> que de <code class="cx pf pg ph pi b">p</code>, on choisit de ne pas connecter <code class="cx pf pg ph pi b">p</code> et <code class="cx pf pg ph pi b">r</code>. Cela permet de ne pas multiplier les connexions entre des points très proches au sein d’un même cluster, et de privilégier des connexions avec des distances un peu moins courtes (illustration ci-dessous).</p></blockquote><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj ra"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*LftEBbQJ2XscfLCkb5OTIg.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="309" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_LftEBbQJ2XscfLCkb5OTIg.jpg"></picture></div></div><figcaption class="qr qs qt qi qj qu qv bf b bg z dx" data-selectable-paragraph="">Illustration de la petite subtilité : le point p est plus proche de r que de s. Mais comme il est relié au point q, qui est déjà lui-même très proche de r, on le relie plutôt à s. Cela permet de diversifier la longueur des arêtes.</figcaption></figure><h1 id="6585" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Combiner les indexes avec le quantizer</h1><p id="537d" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Il est possible de combiner HSNW et IVFPQ en se servant du premier comme d’un quantizer ; au moment de chercher les cellules les plus proches de notre requête, l’algorithme fera donc appel à HNSW plutôt que de faire une recherche exhaustive parmi les centroïdes.</p><p id="c211" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Cela permet d’avoir une recherche efficace parmi nos centroïdes, et de bénéficier de la petite taille en mémoire de IVFPQ.</p><h1 id="a0b9" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Mention spéciale : Locality Sensitive Hashing</h1><p id="8a83" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Locality Sensitive Hashing est un autre algorithme de réduction de dimension dont la première version de date de 1999. L’idée est de construire une table de hachage (<em class="pe">hash table</em>) de notre jeu de données, en maximisant les collisions (c’est-à-dire, la probabilité que deux vecteurs se retrouvent dans la même alvéole) pour les vecteurs suffisamment similaires.</p><p id="69e5" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Cet algorithme souffre de deux défauts principaux :</p><ul class=""><li id="45a9" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">pour obtenir des résultats suffisamment précis, il faut multiplier le nombre d’alvéoles, ce qui entraîne un surcoût en mémoire</li><li id="b814" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">les fonctions de hachage ne sont pas adaptables aux données et à leur distribution : par exemple, on aura autant d’alvéoles dans une région dense de l’espace que dans une région plus vide</li></ul><p id="cc55" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">La seule version de LSH supportée par faiss est le LSH binaire : un index plat avec des codes binaires. La documentation de faiss n’est pas très claire au sujet de l’algorithme de hachage utilisé ; ci-dessous, l’un des plus populaires, <em class="pe">random projection</em>, illustré ci-dessous.</p><figure class="pj pk pl pm pn po qi qj paragraph-image"><div role="button" tabindex="0" class="ql qm ed qn bh qo"><div class="qi qj rb"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVInBmLHfM9GxarUZ09xXw.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*lVInBmLHfM9GxarUZ09xXw.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*lVInBmLHfM9GxarUZ09xXw.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*lVInBmLHfM9GxarUZ09xXw.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*lVInBmLHfM9GxarUZ09xXw.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*lVInBmLHfM9GxarUZ09xXw.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*lVInBmLHfM9GxarUZ09xXw.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*lVInBmLHfM9GxarUZ09xXw.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh qp qq c" width="700" height="493" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_lVInBmLHfM9GxarUZ09xXw.jpg"></picture></div></div><figcaption class="qr qs qt qi qj qu qv bf b bg z dx" data-selectable-paragraph="">Un LSH en deux dimensions avec quatre hyperplans (droites). Les chiffres du code sont déterminés par le côté de la droite duquel se situent les points. Tous les vecteurs qui sont dans la même “zone” ont le même code.</figcaption></figure><ul class=""><li id="a098" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">On produit aléatoirement <code class="cx pf pg ph pi b">k</code> vecteurs de l’espace, qu’on va appeler <code class="cx pf pg ph pi b">v1</code>, <code class="cx pf pg ph pi b">v2</code>, … <code class="cx pf pg ph pi b">vk</code>.</li><li id="95e9" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">Pour chaque vecteur <code class="cx pf pg ph pi b">x</code> de notre jeu de données, on construit un vecteur <code class="cx pf pg ph pi b">h</code>, de taille <code class="cx pf pg ph pi b">k</code>, de la manière suivante : chaque coordonnée est le signe du produit scalaire de <code class="cx pf pg ph pi b">x</code> avec l’un des vecteurs aléatoires (1 si le produit est positif, 0 s’il est négatif). Donc, la première coordonnée est le signe de <code class="cx pf pg ph pi b">x.v1</code>, la deuxième est le signe de <code class="cx pf pg ph pi b">x.v2</code>, etc.</li></ul><p id="083c" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Le signe du produit scalaire indique “de quel côté” du vecteur aléatoire se situe <code class="cx pf pg ph pi b">x</code>. Cela revient à découper notre espace en alvéoles avec des hyperplans aléatoires. Note : on ne stocke pas les vecteurs originaux dans l’index, et seulement leur projection.</p><p id="f3c5" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Lorsque que l’on effectue une recherche, on commence par projeter notre requête sur les vecteurs aléatoires, pour construire le vecteur binaire correspondant, puis on retourne tous les vecteurs correspondant à l’alvéole atteinte. Notre recherche va donc renvoyer plusieurs candidats, que l’on n’a aucune manière d’ordonner (puisque l’on ne stocke pas les vecteurs originaux dans l’index). LSH est très rapide, mais très peu précis.Ci-dessous, le code pour LSH :</p><figure class="pj pk pl pm pn po"><div class="pp mi l ed"><div class="afy pr l"><iframe src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/25046be290c37c322d51b4fdde0f90f2.html" allowfullscreen="" frameborder="0" height="190" width="680" title="beatriceljn-faiss-4" class="em n gj dz bh" scrolling="no"></iframe></div></div></figure><h1 id="0060" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Conclusion</h1><p id="3e5e" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">L’utilisation d’un index permet d’optimiser les performances d’une recherche de similarité lorsque la recherche exhaustive n’est pas envisageable car trop coûteuse.</p><p id="ba7b" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Les trois principaux index proposés par faiss sont :</p><ul class=""><li id="f842" class="mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj ps pt pu bk" data-selectable-paragraph="">IVF (index inversé), qui répartit les vecteurs en cellules (clusters), et compare la requête aux vecteurs présents dans un ou plusieurs clusters ;</li><li id="d5a8" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">PQ (product quantization), qui compresse les vecteurs en les divisant en segments qui sont ensuite répartis en clusters ;</li><li id="7a13" class="mm mn gu mo b mp pv mr ms mt pw mv mw mx px mz na nb py nd ne nf pz nh ni nj ps pt pu bk" data-selectable-paragraph="">HNSW (hierarchical navigable small worlds), qui construit un graphe à plusieurs étages permettant de naviguer facilement d’un vecteur de la base à un autre.</li></ul><p id="a9d1" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Ci-dessous, un tableau récapitulatif des avantages et inconvénients de chacun : un + signifie un avantage, un — : un inconvénient et un — — : un gros inconvénient.</p><figure class="pj pk pl pm pn po qi qj paragraph-image"><div class="qi qj rc"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 1100w, https://miro.medium.com/v2/resize:fit:1030/format:webp/1*4ku_DNfGnBMWWCC1t-9uqQ.png 1030w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 515px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*4ku_DNfGnBMWWCC1t-9uqQ.png 640w, https://miro.medium.com/v2/resize:fit:720/1*4ku_DNfGnBMWWCC1t-9uqQ.png 720w, https://miro.medium.com/v2/resize:fit:750/1*4ku_DNfGnBMWWCC1t-9uqQ.png 750w, https://miro.medium.com/v2/resize:fit:786/1*4ku_DNfGnBMWWCC1t-9uqQ.png 786w, https://miro.medium.com/v2/resize:fit:828/1*4ku_DNfGnBMWWCC1t-9uqQ.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*4ku_DNfGnBMWWCC1t-9uqQ.png 1100w, https://miro.medium.com/v2/resize:fit:1030/1*4ku_DNfGnBMWWCC1t-9uqQ.png 1030w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 515px"><img alt="" class="bh qp qq c" width="515" height="180" loading="lazy" role="presentation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_4ku_DNfGnBMWWCC1t-9uqQ.png"></picture></div></figure><p id="033e" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Dans un premier temps, il faudra entraîner l’index sur les données afin de les répartir en clusters, les compresser, ou de construire le graphe (c’est le “AI” de “faiss”). On devra également choisir des hyperparamètres, qui permettront de trouver le juste équilibre entre la précision des résultats renvoyés et les performances.</p><p id="059b" class="pw-post-body-paragraph mm mn gu mo b mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj go bk" data-selectable-paragraph="">Enfin, on peut combiner les indexes en utilisant un quantizer afin, par exemple, d’optimiser la recherche parmi les centroïdes de nos clusters.</p><h1 id="b1d4" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">Remerciement</h1><p id="7473" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Merci à nos collègues <a class="af fh" href="https://www.linkedin.com/in/agn%C3%A8s-girardot-173b1a73/" rel="noopener ugc nofollow" target="_blank">Agnes GIRARDOT</a>, <a class="af fh" href="https://www.linkedin.com/in/edouard-lavaud-4b455a140/" rel="noopener ugc nofollow" target="_blank">Edouard LAVAUD</a>, <a class="af fh" href="https://www.linkedin.com/in/lu-wang-75ba0a1a" rel="noopener ugc nofollow" target="_blank">Lu WANG</a> et <a class="af fh" href="https://www.linkedin.com/in/nhut-doan-nguyen-46859152/" rel="noopener ugc nofollow" target="_blank">Nhut DOAN NGUYEN</a> pour la revue de l’article.</p><h1 id="42ee" class="nk nl gu bf nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk" data-selectable-paragraph="">A propos de l’auteur</h1><p id="5e07" class="pw-post-body-paragraph mm mn gu mo b mp oz mr ms mt pa mv mw mx pb mz na nb pc nd ne nf pd nh ni nj go bk" data-selectable-paragraph="">Après un doctorat en mathématiques fondamentales, <a class="af fh" href="https://www.linkedin.com/in/beatrice-chetard-6b22331a0/" rel="noopener ugc nofollow" target="_blank">Béatrice CHETARD</a> a rejoint <a class="af fh" href="https://www.lajavaness.com/" rel="noopener ugc nofollow" target="_blank">La Javaness</a> en tant que data scientist en mars 2021. Elle s’intéresse à tous les aspects de la data science (données structurées, NLP, computer vision) ainsi qu’aux question d’éthique et de responsabilité des algorithmes.</p></div></div></div></div></section></div></div></article></div><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="rd re ab iq"><div class="rf ab"><a class="ff ay am ao" href="https://medium.com/tag/indexing?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><div class="rg ed cx rh gf ri rj bf b bg z bk rk">Indexing</div></a></div><div class="rf ab"><a class="ff ay am ao" href="https://medium.com/tag/nlp?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><div class="rg ed cx rh gf ri rj bf b bg z bk rk">NLP</div></a></div><div class="rf ab"><a class="ff ay am ao" href="https://medium.com/tag/similarity-search?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><div class="rg ed cx rh gf ri rj bf b bg z bk rk">Similarity Search</div></a></div><div class="rf ab"><a class="ff ay am ao" href="https://medium.com/tag/faiss?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><div class="rg ed cx rh gf ri rj bf b bg z bk rk">Faiss</div></a></div></div></div></div><div class="l"></div><footer class="rl rm rn ro rp ab q rq rr c"><div class="l ae"><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="ab cp rs"><div class="ab q jx"><div class="rt l"><span class="l ru rv rw e d"><div class="ab q jx jy"><div class="pw-multi-vote-icon ed jz ka kb kc"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="59" aria-labelledby="59"><button class="kd ao kf yi yj kj am kk kl km kc" data-testid="footerClapButton"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="pw-multi-vote-count l kn ko kp kq kr ks kt"><div><div class="bm" aria-hidden="false" aria-describedby="60" aria-labelledby="60"><p class="bf b dy z dx"><button class="af ag ah ai aj ak al am an ao ap aq ar as at yk xi">66<span class="l h g f rx ry"></span></button></p></div></div></div></div></span><span class="l h g f rx ry"><div class="ab q jx jy"><div class="pw-multi-vote-icon ed jz ka kb kc"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="61" aria-labelledby="61"><button class="kd ao kf yi yj kj am kk kl km kc" data-testid="footerClapButton"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="pw-multi-vote-count l kn ko kp kq kr ks kt"><div><div class="bm" aria-hidden="false" aria-describedby="62" aria-labelledby="62"><p class="bf b dy z dx"><button class="af ag ah ai aj ak al am an ao ap aq ar as at yk xi">66</button></p></div></div></div></div></span></div><div class="bq ab"><div><div class="bm" aria-hidden="false" aria-describedby="7" aria-labelledby="7"><button class="ao kd ku kv ab q ee kw kx" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ky"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div></div><div class="ab q"><div class="rz l in"><div><div class="bm" aria-hidden="false" aria-describedby="8" aria-labelledby="8"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="footerBookmarkButton" class="af ee ah ai aj ak al la an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="rz l in"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false" aria-describedby="9" aria-labelledby="9"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af ee ah ai aj ak al la an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="bm" aria-hidden="true"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="66" aria-labelledby="66"><button aria-label="More options" data-testid="footerStoryOptionsButton" class="af ee ah ai aj ak al la an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><div class="ep bp lv lw" data-popper-reference-hidden="true" data-popper-escaped="true" data-popper-placement="top" style="position: fixed; inset: auto auto 0px 0px; transform: translate(986px, 5015px);"><div class="ge bp"><div class="mg mh mi"><span tabindex="0"></span><div class="mj mk l"><div class="ml l"><span class="bf b dy z lv">Looking to hide highlights? You can now hide them from the “•••” menu.</span></div><p class="bf b dy z lv"><button class="af ag ah ai aj ak al am an ao ap aq ar fh">Okay, got it</button></p></div><span tabindex="0"></span></div><div class="em gn vg ly lz ma gq mb mc md me vh" style="position: absolute; left: 0px; transform: translate(94px, 0px);"></div></div></div></div></div></div></div></div></footer><div class="sa l"><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="ab sb sc sd ip io"><div class="se sf sg sh si sj sk sl sm sn ab cp"><div class="h k"><a tabindex="0" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---post_author_info--c7675c42abb9---------------------------------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by hx hw cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(1).png" width="48" height="48" loading="lazy"><div class="el by l hx hw em n ay so"></div></div></a></div><div class="j i d"><a tabindex="0" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---post_author_info--c7675c42abb9---------------------------------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by sp sq cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(2).png" width="64" height="64" loading="lazy"><div class="el by l sp sq em n ay so"></div></div></a></div><div class="j i d sr in"><div class="ab"><button class="bf b bg z lv rg xo xp xq xr xj xk tb tc td te tf tg th ep bm ti qs">Follow</button></div></div></div><div class="ab co tj"><div class="tk tl tm tn to l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---post_author_info--c7675c42abb9---------------------------------------"><h2 class="pw-author-name bf tq tr ts tt tu tv tw mx oq or nb ot ou nf ow ox bk"><span class="go tp">Written by La Javaness R&amp;D</span></h2></a><div class="rf ab hv"><div class="l in"><span class="pw-follower-count bf b bg z dx"><a class="af ag ah ai aj ak al am an ao ap aq ar ig" rel="noopener follow" href="https://lajavaness.medium.com/followers?source=post_page---post_author_info--c7675c42abb9---------------------------------------">265 Followers</a></span></div><div class="bf b bg z dx ab tx"><span class="ih l" aria-hidden="true"><span class="bf b bg z dx">·</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar ig" rel="noopener follow" href="https://lajavaness.medium.com/following?source=post_page---post_author_info--c7675c42abb9---------------------------------------">2 Following</a></div></div><div class="ty l"><p class="bf b bg z bk">We help organizations to succeed in the new paradigm of “AI@scale”, by using machine intelligence responsibly and efficiently : <a class="af ag ah ai aj ak al am an ao ap aq ar fh gp" href="http://www.lajavaness.com/" rel="noopener  ugc nofollow">www.lajavaness.com</a></p></div></div></div><div class="h k"><div class="ab"><button class="bf b bg z lv rg xo xp xq xr xj xk tb tc td te tf tg th ep bm ti qs">Follow</button></div></div></div></div></div></div><div class="tz l"><div class="ua bh r sa"></div><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="ab q cp"><h2 class="bf tq nn np nq nr nt nu nv nx ny nz ob oc od of og bk">No responses yet</h2><div class="ab ub"><div><div class="bm" aria-hidden="false" aria-describedby="11" aria-labelledby="11"><a class="uc ud" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--c7675c42abb9---------------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div><div class="ue uf ug uh ui l"><div><div class="bf b bg z bk"><div class="if"><div class="wv l"><div class="ml ab q"><div class="l ed"><div class="l ed"><img alt="Ahachemi Maths" class="l ep by bz ca cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_uV00uATaWO0YNC9E.png" width="32" height="32" loading="lazy"><div class="el by l bz ca em n ay so"></div></div></div><div class="bn ab cn co cb"><div class="ab hv iq"><span class="bf b bg z bk go tp">Ahachemi Maths</span></div></div></div><div class="cx bp ab co afz wk"><div class="ab co ed"><div class="wl aga wn mj"><div role="textbox" aria-multiline="true" data-slate-editor="true" data-slate-node="value" contenteditable="true" zindex="-1" style="position: relative; outline: none; white-space: pre-wrap; overflow-wrap: break-word; min-height: 24px;"><div data-slate-node="element"><p><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-placeholder="true" contenteditable="false" style="position: absolute; pointer-events: none; width: 100%; max-width: 100%; display: block; opacity: 0.333; user-select: none; text-decoration: none;">What are your thoughts?</span><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></p></div></div></div><div class="cp wp dx ab wq ku agb"><span class="bf b bg z dx"><div class="ab"><div><div class="bm" aria-hidden="false" aria-describedby="34" aria-labelledby="34"><span class="ww wx wy wz bp xa cb xb xc xd"><svg width="21" height="21"><path fill-rule="evenodd" d="M10.308 17.993h-5.92l.11-.894.783-.12c.56-.11.79-.224.79-.448V5.37c0-.225-.113-.336-.902-.448H4.5l-.114-.894h6.255c4.02 0 5.58 1.23 5.58 3.13 0 1.896-1.78 3.125-3.79 3.463v.11c2.69.34 4.25 1.56 4.25 3.57 0 2.35-2.01 3.69-6.37 3.69l.02.01h-.02zm-.335-12.96H8.967V10.5h1.23c1.788 0 2.79-1.23 2.79-2.683 0-1.685-1.004-2.803-3.006-2.803v.02zm-.223 6.36h-.783v5.588l1.225.23h.22c1.67 0 3.01-1.004 3.01-2.792 0-2.122-1.566-3.016-3.69-3.016h.018z"></path></svg></span></div></div><div><div class="bm" aria-hidden="false" aria-describedby="35" aria-labelledby="35"><span class="ww wx wy wz bp xa cb xb xc xd"><svg width="21" height="21"><path fill-rule="evenodd" d="M9.847 18.04c-.533 0-2.027-.64-1.92-.853l2.027-7.68-.64-.214-1.387 1.494-.427-.427c.534-1.173 1.707-2.667 2.774-2.667.533 0 2.24.534 2.133.854l-2.133 7.786.533.214 1.6-1.067.427.427c-.64 1.066-1.92 2.133-2.987 2.133m2.347-11.733c-.96 0-1.387-.64-1.387-1.387 0-1.067.747-1.92 1.493-1.92.854 0 1.387.64 1.387 1.493-.107 1.067-.747 1.814-1.493 1.814"></path></svg></span></div></div></div></span><div class="ws sr ab wq ku agb"><div class="wt"><button class="bf b dy z bk xe xf xg xh xi kw xj xk tb ik xl xm xn tf tg th ep bm ti qs" data-testid="CancelResponseButton">Cancel</button></div><button class="bf b dy z lv xe xo xp xq xr xj xk tb tc td te tf tg th ep bm ti qs" disabled="" data-testid="ResponseRespondButton">Respond</button></div></div></div></div><div class="ab wq ku agb"><span role="checkbox" aria-checked="false" tabindex="0" class="wu"><label class="ab q"><div class="ff yf yg ab yh in ed"><input class="xs xt xu em vn xv xw xx xy xz ya yb" type="checkbox" disabled=""><span class="q su sv tg th yc ep lv yd ab xo wh cb sw sx" data-checkbox="true"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="11" viewBox="0 0 11 11" class="xo ye"><path d="m0 6.313 3.704 3.705.904.904.66-1.095 5.296-8.795L8.85 0 3.554 8.795l1.563-.191-3.704-3.705z"></path></svg></span></div><div class="l"><p class="bf b dy z dx">Also publish to my profile</p></div></label></span></div></div></div></div></div></div></div></div></div><div class="uj uk ul um un l bx"><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="yl ym dm dn do ty l"><h2 class="bf tq nn np nq nr nt nu nv nx ny nz ob oc od of og bk">More from La Javaness R&amp;D</h2></div><div class="yh ab jx iq yn yo yp yq yr ys yt yu yv yw yx yy yz za zb"><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://lajavaness.medium.com/comparing-state-of-the-art-speaker-diarization-frameworks-pyannote-vs-nemo-31a191c6300" tabindex="0"><div class="abn"><div aria-label="Comparing state-of-the-art speaker diarization frameworks : Pyannote vs Nemo"><div class="abp abq abr abs abt"><img alt="Comparing state-of-the-art speaker diarization frameworks : Pyannote vs Nemo" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_wbM45TRi_rKb2_8YFVTX-A.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="89" aria-labelledby="89"><a tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----0---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(3).png" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="90" aria-labelledby="90"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----0---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">La Javaness R&amp;D</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="https://lajavaness.medium.com/comparing-state-of-the-art-speaker-diarization-frameworks-pyannote-vs-nemo-31a191c6300?source=post_page---author_recirc--c7675c42abb9----0---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div title="Comparing state-of-the-art speaker diarization frameworks : Pyannote vs Nemo"><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Comparing state-of-the-art speaker diarization frameworks&nbsp;: Pyannote vs Nemo</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">This article focuses on two state-of-the-art open-source frameworks for speaker diarization: pyannote.audio and NeMo</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><span>Jul 17, 2023</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/comparing-state-of-the-art-speaker-diarization-frameworks-pyannote-vs-nemo-31a191c6300?source=post_page---author_recirc--c7675c42abb9----0---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div><div class="ab" aria-hidden="false" aria-describedby="180" aria-labelledby="180"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>251</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="91" aria-labelledby="91"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>4</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="92" aria-labelledby="92"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="182" aria-labelledby="182"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://lajavaness.medium.com/speaker-diarization-an-introductory-overview-c070a3bfea70" tabindex="0"><div class="abn"><div aria-label="Speaker Diarization: An Introductory Overview"><div class="abp abq abr abs abt"><img alt="Speaker Diarization: An Introductory Overview" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_08iCugqS9zesOJ5L0k5sFQ.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="94" aria-labelledby="94"><a tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----1---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(3).png" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="95" aria-labelledby="95"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----1---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">La Javaness R&amp;D</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="https://lajavaness.medium.com/speaker-diarization-an-introductory-overview-c070a3bfea70?source=post_page---author_recirc--c7675c42abb9----1---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Speaker Diarization: An Introductory Overview</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Speaker diarization is the process of automatically identifying and segmenting an audio recording into distinct speech segments.</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><span>Jul 17, 2023</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/speaker-diarization-an-introductory-overview-c070a3bfea70?source=post_page---author_recirc--c7675c42abb9----1---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div><div class="ab" aria-hidden="false" aria-describedby="183" aria-labelledby="183"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>261</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="96" aria-labelledby="96"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="184" aria-labelledby="184"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://lajavaness.medium.com/regression-with-text-input-using-bert-and-transformers-71c155034b13" tabindex="0"><div class="abn"><div aria-label="Regression with Text Input Using BERT and Transformers"><div class="abp abq abr abs abt"><img alt="Regression with Text Input Using BERT and Transformers" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_Zk4yWjjSSk8_B2JSQ_lBXw.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="98" aria-labelledby="98"><a tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----2---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(3).png" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="99" aria-labelledby="99"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----2---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">La Javaness R&amp;D</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="https://lajavaness.medium.com/regression-with-text-input-using-bert-and-transformers-71c155034b13?source=post_page---author_recirc--c7675c42abb9----2---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Regression with Text Input Using BERT and Transformers</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">1. Introduction</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><span>Mar 11, 2022</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/regression-with-text-input-using-bert-and-transformers-71c155034b13?source=post_page---author_recirc--c7675c42abb9----2---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div><div class="ab" aria-hidden="false" aria-describedby="185" aria-labelledby="185"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>242</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="100" aria-labelledby="100"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>5</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="101" aria-labelledby="101"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="187" aria-labelledby="187"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://lajavaness.medium.com/llm-large-language-model-cost-analysis-d5022bb43e9e" tabindex="0"><div class="abn"><div aria-label="LLM Large Language Model Cost Analysis"><div class="abp abq abr abs abt"><img alt="LLM Large Language Model Cost Analysis" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_Oux4p4aodzZRo3c7C-0NCw.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="103" aria-labelledby="103"><a tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----3---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div class="l ed"><img alt="La Javaness R&amp;D" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3ZwENyAs1jInhzzWwejXJg(3).png" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="104" aria-labelledby="104"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9----3---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">La Javaness R&amp;D</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="https://lajavaness.medium.com/llm-large-language-model-cost-analysis-d5022bb43e9e?source=post_page---author_recirc--c7675c42abb9----3---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">LLM Large Language Model Cost Analysis</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Introduction</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><span>Sep 28, 2023</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" rel="noopener follow" href="https://lajavaness.medium.com/llm-large-language-model-cost-analysis-d5022bb43e9e?source=post_page---author_recirc--c7675c42abb9----3---------------------cf749c2e_7a95_44e0_8892_83553cde2e07--------------"><div><div class="ab" aria-hidden="false" aria-describedby="188" aria-labelledby="188"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>345</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="105" aria-labelledby="105"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>1</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="106" aria-labelledby="106"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="190" aria-labelledby="190"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div><div class="ua bh uo dk dl adx ady adz"></div><div class="ab io ip sd sc sb"><a class="bf b bg z bk rg xf xg xh xi kw xj xk tb ik xl xm xn tf aea aeb aec aed aee tg th ep bm ti qs" rel="noopener follow" href="https://lajavaness.medium.com/?source=post_page---author_recirc--c7675c42abb9---------------------------------------"><div class="l qs">See all from La Javaness R&amp;D</div></a></div></div></div><div class="ua bh uo aef aeg aeh aei aej"></div><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="aek ael l"><h2 class="bf tq nn np nq nr nt nu nv nx ny nz ob oc od of og bk">Recommended from Medium</h2><div class="pj pk pl pm pn l"><div class="yh ab jx iq yn yo yp yq yr ys yt yu yv yw yx yy yz za zb"><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://medium.com/@alejandro7899871776/moderation-in-small-llms-how-not-to-get-sued-2d146933707f" tabindex="0"><div class="abn"><div aria-label="Moderation in small LLMs: How not to get sued!"><div class="abp abq abr abs abt"><img alt="Moderation in small LLMs: How not to get sued!" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_Xjb6t2iBI7v7EiLiPkpRvA.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="108" aria-labelledby="108"><a tabindex="-1" href="https://medium.com/@alejandro7899871776?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="l ed"><img alt="alejandro" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_nyuXdD14AqgV4Dipv0ziGA@2x.jpg" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="109" aria-labelledby="109"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://medium.com/@alejandro7899871776?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">alejandro</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/@alejandro7899871776/moderation-in-small-llms-how-not-to-get-sued-2d146933707f?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Moderation in small LLMs: How not to get sued!</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Avoid getting sued by implementing a moderation system from scratch with Ollama.</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="110" aria-labelledby="110"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="111" aria-labelledby="111"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div>3d ago<div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://medium.com/@alejandro7899871776/moderation-in-small-llms-how-not-to-get-sued-2d146933707f?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="112" aria-labelledby="112"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="191" aria-labelledby="191"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://blog.amikos.tech/chroma-basics-document-primitive-d5a0c97cc813" tabindex="0"><div class="abn"><div aria-label="Chroma Basics: Document Primitive"><div class="abp abq abr abs abt"><img alt="Chroma Basics: Document Primitive" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_B8k2lxO0wrA7exjpIWDuZw.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="114" aria-labelledby="114"><a tabindex="-1" href="https://blog.amikos.tech/?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="l ed"><img alt="Amikos Tech" class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_p4O7H-ClW-wPBO3dKrR7QA.png" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="115" aria-labelledby="115"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://blog.amikos.tech/?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Amikos Tech</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.amikos.tech/chroma-basics-document-primitive-d5a0c97cc813?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Chroma Basics: Document Primitive</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Developing RAG intuition: A Guide to Chroma Document primitives</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="116" aria-labelledby="116"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="117" aria-labelledby="117"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div><span>Dec 2, 2024</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://blog.amikos.tech/chroma-basics-document-primitive-d5a0c97cc813?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div><div class="ab" aria-hidden="false" aria-describedby="118" aria-labelledby="118"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>1</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="119" aria-labelledby="119"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="193" aria-labelledby="193"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div></div><div class="ua bh uo aem"></div><h2 class="bf tq ie z gt bk">Lists</h2><div class="aen l"><div class="cn ab jx iq yn yo yp yq yr ys yt yu yv yw yx yy yz za zb"><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab cl cn" href="https://medium.com/@AMGAS14/list/natural-language-processing-0a856388a93a?source=post_page---read_next_recirc--c7675c42abb9---------------------------------------" rel="noopener follow"><div class="aet aeu mi ab in ed"><div class="ed yc aep bx aeq"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_s-fK5J5Sz5185wLkLuvgTg.png" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc aep bx jy aer"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_5oNyjtk9_rjQvJiP.jpg" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc bx rr aes"><div class="yc hx mi l"><img alt="Robot hand touching human hand" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_ARWlcJtrtHFqY6NlGAkvbQ.png" width="48" height="48" loading="lazy"></div></div></div><div class="ax l"><h2 class="bf tq ie z mi ado acj ack adp acm aco gt bk">Natural Language Processing</h2><div class="bf b dy z dx ab aeo">1977 stories<span class="ih l" aria-hidden="true"><span class="bf b bg z dx">·</span></span>1620 saves</div></div></a></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab cl cn" href="https://medium.com/@MediumStaff/list/the-new-chatbots-chatgpt-bard-and-beyond-5969c7449b7f?source=post_page---read_next_recirc--c7675c42abb9---------------------------------------" rel="noopener follow"><div class="aet aeu mi ab in ed"><div class="ed yc aep bx aeq"><div class="yc hx mi l"><img alt="Image by vectorjuice on FreePik" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_3OsUtsnlTx9Svm4c.jpg" width="48" height="48" loading="lazy"></div></div><div class="ed yc aep bx jy aer"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_IPZF1hcDWwpPqOz2vL7NxQ.png" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc bx rr aes"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_0fHUKyg3xtpNWpop35PR4g.png" width="48" height="48" loading="lazy" role="presentation"></div></div></div><div class="ax l"><h2 class="bf tq ie z mi ado acj ack adp acm aco gt bk">The New Chatbots: ChatGPT, Bard, and Beyond</h2><div class="bf b dy z dx ab aeo">12 stories<span class="ih l" aria-hidden="true"><span class="bf b bg z dx">·</span></span>563 saves</div></div></a></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab cl cn" href="https://medium.com/@grexe/list/data-science-and-ai-35d21381d956?source=post_page---read_next_recirc--c7675c42abb9---------------------------------------" rel="noopener follow"><div class="aet aeu mi ab in ed"><div class="ed yc aep bx aeq"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_Fwpkf8H5PwNrzSzMYUFjjA.png" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc aep bx jy aer"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_G49cai7vIuhFeSwb4LCuSQ.jpg" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc bx rr aes"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_HlJ2e41GVVzzjWYiX0dU1g.png" width="48" height="48" loading="lazy" role="presentation"></div></div></div><div class="ax l"><h2 class="bf tq ie z mi ado acj ack adp acm aco gt bk">data science and AI</h2><div class="bf b dy z dx ab aeo">40 stories<span class="ih l" aria-hidden="true"><span class="bf b bg z dx">·</span></span>341 saves</div></div></a></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab cl cn" href="https://medium.com/@MediumStaff/list/staff-picks-c7bc6e1ee00f?source=post_page---read_next_recirc--c7675c42abb9---------------------------------------" rel="noopener follow"><div class="aet aeu mi ab in ed"><div class="ed yc aep bx aeq"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_ujmvat_3PKeQol3K4ggLtg.jpg" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc aep bx jy aer"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_GfBBNi_LNuRxJFmlh1ncNw.png" width="48" height="48" loading="lazy" role="presentation"></div></div><div class="ed yc bx rr aes"><div class="yc hx mi l"><img alt="" class="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_99PD1hCxYKHeI6dL.jpg" width="48" height="48" loading="lazy" role="presentation"></div></div></div><div class="ax l"><h2 class="bf tq ie z mi ado acj ack adp acm aco gt bk">Staff picks</h2><div class="bf b dy z dx ab aeo">827 stories<span class="ih l" aria-hidden="true"><span class="bf b bg z dx">·</span></span>1648 saves</div></div></a></div></div></div><div class="ua bh uo aev dk aew dl aex aey aez afa afb afc"></div><div class="yh ab jx iq yn yo yp yq yr ys yt yu yv yw yx yy yz za zb"><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://jacob.blog/the-5-paid-subscriptions-i-actually-use-in-2025-as-a-staff-software-engineer-98033c94566e" tabindex="0"><div class="abn"><div aria-label="The 5 paid subscriptions I actually use in 2025 as a Staff Software Engineer"><div class="abp abq abr abs abt"><img alt="The 5 paid subscriptions I actually use in 2025 as a Staff Software Engineer" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_3XS-8r8adjnRoNH4YjKXpw.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="121" aria-labelledby="121"><div class="bm"><a href="https://levelup.gitconnected.com/?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="ed"><img alt="Level Up Coding" class="yc ach acg cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_5D9oYBd58pyjMkV_5-zXXQ.jpg" width="20" height="20" loading="lazy"><div class="yc l acg ach em n el eo"></div></div></a></div></div></div></div><div class="tp l"><p class="bf b dy z dx">In</p></div><div class="l"><div><div class="l" aria-hidden="false" aria-describedby="122" aria-labelledby="122"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://levelup.gitconnected.com/?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Level Up Coding</p></a></div></div></div><div class="afd l"><p class="bf b dy z dx">by</p></div><div><div class="l" aria-hidden="false" aria-describedby="123" aria-labelledby="123"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://jacob.blog/?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Jacob Bennett</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://jacob.blog/the-5-paid-subscriptions-i-actually-use-in-2025-as-a-staff-software-engineer-98033c94566e?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title="The 5 paid subscriptions I actually use in 2025 as a Staff Software Engineer"><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">The 5 paid subscriptions I actually use in 2025 as a Staff Software Engineer</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Tools I use that are cheaper than Netflix</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="124" aria-labelledby="124"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="125" aria-labelledby="125"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div><span>Jan 7</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://jacob.blog/the-5-paid-subscriptions-i-actually-use-in-2025-as-a-staff-software-engineer-98033c94566e?source=post_page---read_next_recirc--c7675c42abb9----0---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div><div class="ab" aria-hidden="false" aria-describedby="194" aria-labelledby="194"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>10.6K</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="126" aria-labelledby="126"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>260</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="127" aria-labelledby="127"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="196" aria-labelledby="196"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://medium.com/@kirantechblog/just-stop-writing-python-functions-like-this-df4a69b56634" tabindex="0"><div class="abn"><div aria-label="Just Stop Writing Python Functions Like This!!!"><div class="abp abq abr abs abt"><img alt="Just Stop Writing Python Functions Like This!!!" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_mIHMQwzlwJ28ympN.jpg" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="129" aria-labelledby="129"><div class="bm"><a href="https://python.plainenglish.io/?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="ed"><img alt="Python in Plain English" class="yc ach acg cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_VA3oGfprJgj5fRsTjXp6fA@2x.png" width="20" height="20" loading="lazy"><div class="yc l acg ach em n el eo"></div></div></a></div></div></div></div><div class="tp l"><p class="bf b dy z dx">In</p></div><div class="l"><div><div class="l" aria-hidden="false" aria-describedby="130" aria-labelledby="130"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://python.plainenglish.io/?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Python in Plain English</p></a></div></div></div><div class="afd l"><p class="bf b dy z dx">by</p></div><div><div class="l" aria-hidden="false" aria-describedby="131" aria-labelledby="131"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://medium.com/@kirantechblog?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Kiran Maan</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/@kirantechblog/just-stop-writing-python-functions-like-this-df4a69b56634?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Just Stop Writing Python Functions Like This!!!</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">I just reviewed someone else’s code and I was just shocked.</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="132" aria-labelledby="132"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="133" aria-labelledby="133"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div><span>Jan 19</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://medium.com/@kirantechblog/just-stop-writing-python-functions-like-this-df4a69b56634?source=post_page---read_next_recirc--c7675c42abb9----1---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div><div class="ab" aria-hidden="false" aria-describedby="197" aria-labelledby="197"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>2.5K</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="134" aria-labelledby="134"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>63</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="135" aria-labelledby="135"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="199" aria-labelledby="199"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://medium.com/@prateek.vyas/10-must-know-python-code-snippets-for-leveraging-llms-b152fb450ff5" tabindex="0"><div class="abn"><div aria-label="Understand DuckDuckGo Search API: A Practical Guide with step-by-step Python Code Examples"><div class="abp abq abr abs abt"><img alt="Understand DuckDuckGo Search API: A Practical Guide with step-by-step Python Code Examples" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_yuVzMhCJyDENbyhwAsrkwA.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="137" aria-labelledby="137"><a tabindex="-1" href="https://medium.com/@prateek.vyas?source=post_page---read_next_recirc--c7675c42abb9----2---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="l ed"><img alt="Prateek Vyas • M.Tech." class="l ep by acg ach cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_Taxmsc68kPyoODGoiSdK-A.jpg" width="20" height="20" loading="lazy"><div class="el by l acg ach em n ay eo"></div></div></a></div></div></div><div><div class="l" aria-hidden="false" aria-describedby="138" aria-labelledby="138"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://medium.com/@prateek.vyas?source=post_page---read_next_recirc--c7675c42abb9----2---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Prateek Vyas • M.Tech.</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/@prateek.vyas/10-must-know-python-code-snippets-for-leveraging-llms-b152fb450ff5?source=post_page---read_next_recirc--c7675c42abb9----2---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title="Understand DuckDuckGo Search API: A Practical Guide with step-by-step Python Code Examples"><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Understand DuckDuckGo Search API: A Practical Guide with step-by-step Python Code Examples</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Integrate and use DuckDuckGo’s search capabilities in your Python applications with step-by-step tutorials.</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="139" aria-labelledby="139"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="140" aria-labelledby="140"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div><span>Nov 22, 2024</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://medium.com/@prateek.vyas/10-must-know-python-code-snippets-for-leveraging-llms-b152fb450ff5?source=post_page---read_next_recirc--c7675c42abb9----2---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div><div class="ab" aria-hidden="false" aria-describedby="200" aria-labelledby="200"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>23</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="141" aria-labelledby="141"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>1</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="142" aria-labelledby="142"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="202" aria-labelledby="202"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span><div class="j i d"><div class="ua bh uo ky"></div></div></div></div></div></div></div></div></article></div></div><div class="zc zd ze to zf zg zh tn zi zj zk zl zm zn zo zp zq zr zs zt zu"><div class="zv zw zx zy zz dz l"><article class="dz"><div class="dz rp l"><div class="bh dz"><div class="dz l"><div class="ed dz aba abb abc abd abe abf abg abh abi abj abk abl abm" role="link" data-href="https://medium.com/@riteshgupta.ai/data-science-all-algorithm-cheatsheet-2025-5765b35d4870" tabindex="0"><div class="abn"><div aria-label="Data Science All Algorithm Cheatsheet 2025"><div class="abp abq abr abs abt"><img alt="Data Science All Algorithm Cheatsheet 2025" class="bh yc abu abv abw bx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/0_xOpq1rgQCUFBDd-V.png" loading="lazy"></div></div></div><div class="abo ab cb co"><div class="ab co wh bh abx aby abz aca"><div class="acb acc acd ace acf ab q"><div class="ff l"><div><div class="l" aria-hidden="false" aria-describedby="144" aria-labelledby="144"><div class="bm"><a href="https://ai.plainenglish.io/?source=post_page---read_next_recirc--c7675c42abb9----3---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div class="ed"><img alt="Artificial Intelligence in Plain English" class="yc ach acg cx" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1_9zAmnK08gUCmZX7q0McVKw@2x.png" width="20" height="20" loading="lazy"><div class="yc l acg ach em n el eo"></div></div></a></div></div></div></div><div class="tp l"><p class="bf b dy z dx">In</p></div><div class="l"><div><div class="l" aria-hidden="false" aria-describedby="145" aria-labelledby="145"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://ai.plainenglish.io/?source=post_page---read_next_recirc--c7675c42abb9----3---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Artificial Intelligence in Plain English</p></a></div></div></div><div class="afd l"><p class="bf b dy z dx">by</p></div><div><div class="l" aria-hidden="false" aria-describedby="146" aria-labelledby="146"><a class="af ag ah ai aj ak al am an ao ap aq ar ig ab q" href="https://medium.com/@riteshgupta.ai?source=post_page---read_next_recirc--c7675c42abb9----3---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><p class="bf b dy z mi aci acj ack acl acm acn aco bk">Ritesh Gupta</p></a></div></div></div><div class="acp l acq acr acs act acu go"><div class="acv acw acx acy acz ada adb adc"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/@riteshgupta.ai/data-science-all-algorithm-cheatsheet-2025-5765b35d4870?source=post_page---read_next_recirc--c7675c42abb9----3---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div title=""><h2 class="bf gv nn np add ade nq nr nt adf adg nu mx oq adh adi or nb ot adj adk ou nf ow adl adm ox mi acj ack acm aco bk">Data Science All Algorithm Cheatsheet 2025</h2></div><div class="adn l"><h3 class="bf b ie z mi ado acj ack adp acm aco dx">Stories, strategies, and secrets to choosing the perfect algorithm.</h3></div></a></div></div><span class="bf b dy z dx"><div class="hx ab cp ae"><div class="ab q adr"><div class="rp ab"><div class="bm" aria-hidden="false" aria-describedby="147" aria-labelledby="147"><button class="l ay ao am" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="148" aria-labelledby="148"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></button></div></div><span>Jan 5</span><div class=""><div class="ed mk dh ab q"><div class="em vn adq ab q adr"><div class="ax dh dj l cx"></div></div><a class="em ku adq ab q adr" tabindex="-1" href="https://medium.com/@riteshgupta.ai/data-science-all-algorithm-cheatsheet-2025-5765b35d4870?source=post_page---read_next_recirc--c7675c42abb9----3---------------------ec2038b5_3ebd_420a_b622_cf2c27f832e1--------------" rel="noopener follow"><div><div class="ab" aria-hidden="false" aria-describedby="203" aria-labelledby="203"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>1.4K</span></div></div></div><div><div class="ab" aria-hidden="false" aria-describedby="149" aria-labelledby="149"><div class="ab q ads"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" viewBox="0 0 16 16"><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>31</span></div></div></div></a></div></div></div><div class="ab q adt adu"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="150" aria-labelledby="150"><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="af ee ah ai aj ak al adv an ao ap ik lb lc ld"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"></path></svg></button></div></div></div></div><div class="adw l"><div class="bm" aria-hidden="false"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false" aria-describedby="205" aria-labelledby="205"><button aria-label="More options" class="af ee ah ai aj ak al adv an ao ap ik le lf kx lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div><div class="ua bh uo dk dl adx ady adz"></div><a class="bf b bg z bk rg xf xg xh xi kw xj xk tb ik xl xm xn tf aea aeb aec aed aee tg th ep bm ti qs" href="https://medium.com/?source=post_page---read_next_recirc--c7675c42abb9---------------------------------------" rel="noopener follow"><div class="l qs">See more recommendations</div></a></div></div></div><div class="h k j"><div class="ua bh uo up"></div><div class="ab cb"><div class="ci bh ga gb gc gd"><div class="uq ab jx iq"><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Help</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Status</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/about?autoplay=1&amp;source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">About</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Careers</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="mailto:pressinquiries@medium.com" rel="noopener follow"><p class="bf b dy z dx">Press</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Blog</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Privacy</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Terms</p></a></div><div class="ur us l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Text to speech</p></a></div><div class="ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/business?source=post_page-----c7675c42abb9---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20250313-181519-0d7f96e1c1"</script><script>window.__GRAPHQL_URI__ = "https://lajavaness.medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"User is logged in","group":"disabled","tags":["group-edgeCachePosts","post-c7675c42abb9","user-3fb9e0369ece"],"serverVariantState":"","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":false,"vary":[],"pubFeaturingPostPageLabelEnabled":false,"pubHierarchyFlagGroup":"control"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"USER","id":"3fb9e0369ece","explicit":true},"viewerIsBot":false},"debug":{"requestId":"5613868d-c205-4cc0-92f7-c436441ec180","requestTag":"","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-12cbe4b4b21fc83fbc249d2327caa18d-df438bc244189aa7-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Flajavaness.medium.com\u002Findexation-et-recherche-avec-faiss-c7675c42abb9","host":"lajavaness.medium.com","hostname":"lajavaness.medium.com","referrer":"https:\u002F\u002Fwww.google.com\u002F","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null}},"config":{"nodeEnv":"production","version":"main-20250313-181519-0d7f96e1c1","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20250313-181519-0d7f96e1c1","commit":"0d7f96e1c1e1140f74bdba1abe8514fb2351e472"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":"5a24f9b53241"}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","variantFlags":[{"__typename":"VariantFlag","name":"android_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_syntax_highlight","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_group_gifting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members_username_selection","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_create_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_two_hour_refresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_image_sharer","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cancellation_discount_v1_1","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_premium_plan","valueType":{"__typename":"VariantFlagString","value":"4a442ace1476"}},{"__typename":"VariantFlag","name":"enable_android_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_aspiriational","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pub_featuring_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_first_story","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"get_highlights_from_engagement","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_social_share_sheet","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_configure_pronouns","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ranker_v10","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_rex_new_push_notification_endpoint","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_abandoned_paywall_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_deviant_get_variant_flag_from_medium2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_easy_resubscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_remove_twitter_onboarding_step","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_entities_to_follow_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hybrid_ranking_model","valueType":{"__typename":"VariantFlagString","value":"experiment"}},{"__typename":"VariantFlag","name":"enable_members_only_audio","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound-source-serif-pro"}},{"__typename":"VariantFlag","name":"enable_deprecate_legacy_providers_v3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"skip_fs_cache_user_vals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_topic_portals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_verifications_service","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_aggregator_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"goliath_externalsearch_enable_comment_deindexation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_conversion_model_v2","valueType":{"__typename":"VariantFlagString","value":"group_2"}},{"__typename":"VariantFlag","name":"enable_creator_welcome_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_engagement_service_publish_response","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_inline_comments","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_boost_nia_v01","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_miro_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_conversion_ranker_v2","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_speechify_widget","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_switch_plan_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_abandoned_cart_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_custom_moc_preview_for_google_referrer","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"num_post_bottom_responses_to_show","valueType":{"__typename":"VariantFlagNumber","value":3}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"rex_generator_max_candidates","valueType":{"__typename":"VariantFlagNumber","value":1000}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_eventstats_event_processing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_maim_the_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_rex_pub_featuring_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_all_recs_surfaces","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_archive_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cache_less_following_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_diversification_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_autorefresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_manage_membership_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_seamless_social_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_bg_post_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_intrinsic_automatic_actions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_country_expansion","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"mobile_custom_app_icon","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_featured_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_reading_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"can_receive_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses_native","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefined_top_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_aspirational_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lo_homepage","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_see_pronouns","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_verified_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"textshots_userid","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"android_rating_prompt_stories_read_threshold","valueType":{"__typename":"VariantFlagNumber","value":2}},{"__typename":"VariantFlag","name":"enable_auto_follow_on_subscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_programming","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recaptcha_enterprise","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_editor_new_publishing_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_plans_page_branding_v2","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"can_send_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_publish_permission_check","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"price_smoke_test_monthly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_legacy_feed_in_iceland","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recirc_model","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reengagement_notification_duration","valueType":{"__typename":"VariantFlagNumber","value":3}},{"__typename":"VariantFlag","name":"android_enable_lists_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pub_featuring","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_validate_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pub_featuring_post_page_label","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pre_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_boost_experiment","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_recs","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_in_app_free_trial","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reader_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_simplified_digest_v2_b","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_programming_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses_input","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_premium_tier_badge","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_abandoned_paywall_email_experiment","valueType":{"__typename":"VariantFlagString","value":"experiment"}},{"__typename":"VariantFlag","name":"enable_automod","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_c","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_publication_hierarchy_v2_web_multivariate","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_sprig","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_update_topic_portals_wtf","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_winback_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_display_paywall_after_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"onboarding_tags_from_top_views","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_verified_book_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_partner_program_enrollment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cancellation_discount_v1_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_stripe_customers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pill_based_home_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"enable_recommended_publishers_query","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_speechify_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_update_explore_wtf","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_premium_plan","valueType":{"__typename":"VariantFlagString","value":"12a660186432"}},{"__typename":"VariantFlag","name":"price_smoke_test_yearly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_pub_recs_ui","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pub_featuring_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium_com_canonical_urls","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_dense_post_preview","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium_banner_survey","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trust_service_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_avatar_upload","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"collectionByDomainOrSlug({\"domainOrSlug\":\"lajavaness.medium.com\"})":null,"viewer":{"__ref":"User:9ac7864e11b4"},"postResult({\"id\":\"c7675c42abb9\"})":{"__ref":"Post:c7675c42abb9"}},"UserViewerEdge:userId:9ac7864e11b4-viewerId:9ac7864e11b4":{"__typename":"UserViewerEdge","id":"userId:9ac7864e11b4-viewerId:9ac7864e11b4","createdAt":1692869402176},"User:9ac7864e11b4":{"__typename":"User","id":"9ac7864e11b4","allowEmailAddressSharingEditorWriter":true,"dismissableFlags":[],"emailObfuscated":"ah••••••••••••@gmail.com","geolocation":{"__typename":"Geolocation","country":"FR"},"hasGroupGiftingEnabled":false,"hasPastMemberships":false,"hasSubdomain":false,"imageId":"0*uV00uATaWO0YNC9E","isEligibleToImportEmails":false,"isEligibleToViewNewResponses":true,"isMembershipTrialEligible":true,"isSuspended":false,"membership":null,"name":"Ahachemi Maths","partnerProgramEnrollment":null,"postSubscribeMembershipUpsellShownAt":0,"styleEditorOnboardingVersionSeen":0,"twitterScreenName":"","unverifiedEmail":"","username":"ahachemi.maths","viewerEdge":{"__ref":"UserViewerEdge:userId:9ac7864e11b4-viewerId:9ac7864e11b4"},"pronouns":[]},"LinkedAccounts:3fb9e0369ece":{"__typename":"LinkedAccounts","mastodon":null,"id":"3fb9e0369ece"},"User:3fb9e0369ece":{"__typename":"User","id":"3fb9e0369ece","linkedAccounts":{"__ref":"LinkedAccounts:3fb9e0369ece"},"isSuspended":false,"name":"La Javaness R&D","imageId":"1*3ZwENyAs1jInhzzWwejXJg.png","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"lajavaness.medium.com"}},"hasSubdomain":true,"username":"lajavaness","verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":265,"followingCount":2,"collectionFollowingCount":0},"bio":"We help organizations to succeed in the new paradigm of “AI@scale”, by using machine intelligence responsibly and efficiently : www.lajavaness.com","membership":null,"allowNotes":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:3fb9e0369ece-viewerId:9ac7864e11b4"},"twitterScreenName":""},"Paragraph:dcc0c53904fc_0":{"__typename":"Paragraph","id":"dcc0c53904fc_0","name":"6c4c","type":"H3","href":null,"layout":null,"metadata":null,"text":"Indexation et recherche de similarité avec Faiss","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_1":{"__typename":"Paragraph","id":"dcc0c53904fc_1","name":"0338","type":"P","href":null,"layout":null,"metadata":null,"text":"Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque développée par facebook, que j’ai découverte à l’occasion d’un projet de NLP. Je passe brièvement sur le contexte du problème et l’intérêt d’utiliser faiss, et je poursuis avec une explication technique des trois principaux indexes proposés par faiss : inverted file index, product quantization, et hierarchical navigable small worlds.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_2":{"__typename":"Paragraph","id":"dcc0c53904fc_2","name":"a432","type":"H3","href":null,"layout":null,"metadata":null,"text":"Introduction","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_3":{"__typename":"Paragraph","id":"dcc0c53904fc_3","name":"73aa","type":"H4","href":null,"layout":null,"metadata":null,"text":"Contexte : le projet Grand Débat","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_4":{"__typename":"Paragraph","id":"dcc0c53904fc_4","name":"769c","type":"P","href":null,"layout":null,"metadata":null,"text":"Le projet Grand Débat est un projet de R&D mené par La Javaness en automne 2022. Le but était d’appliquer nos compétences et connaissances en NLP et visualisation de données pour créer une application permettant d’explorer les contributions citoyennes récoltées lors du Grand Débat National.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":270,"end":290,"href":"https:\u002F\u002Fgranddebat.fr\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_5":{"__typename":"Paragraph","id":"dcc0c53904fc_5","name":"387e","type":"P","href":null,"layout":null,"metadata":null,"text":"L’une des fonctionnalités que nous souhaitions implémenter était la recherche de contributions similaires à une proposition entrée par l’utilisateur. Plutôt que d’utiliser un moteur de recherche par mots-clés, comme c’est possible par exemple avec Elasticsearch, on souhaite ici permettre à l’utilisateur de visualiser des contributions sémantiquement similaires à la sienne. Nous avons donc décidé de faire usage du moteur d’embedding développé par un de nos data scientists, et d’effectuer une recherche de similarité. (Note : un moteur d’embedding est optimisé pour que des phrases ayant un contenu sémantique similaire soient encodées par des vecteurs proches).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":417,"end":435,"href":"https:\u002F\u002Fhuggingface.co\u002Fdangvantuan\u002Fsentence-camembert-large","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_6":{"__typename":"Paragraph","id":"dcc0c53904fc_6","name":"41a7","type":"H4","href":null,"layout":null,"metadata":null,"text":"À quoi sert un index ?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_7":{"__typename":"Paragraph","id":"dcc0c53904fc_7","name":"6547","type":"P","href":null,"layout":null,"metadata":null,"text":"Nous avons donc une base de données de plusieurs millions de contributions, découpées en phrases (ou en groupes de phrases) à l’aide d’un tokenizer, puis transformées en vecteurs de taille 1024 par le moteur d’embedding. Lorsque l’utilisateur entre une proposition (aussi appelée requête), cette proposition est elle aussi transformée en vecteur ; on peut ainsi calculer la distance entre notre proposition et la contribution d’un utilisateur (ce qu’on ne pourrait pas faire directement avec du texte).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_8":{"__typename":"Paragraph","id":"dcc0c53904fc_8","name":"1993","type":"P","href":null,"layout":null,"metadata":null,"text":"Pour effectuer une recherche, on pourrait naïvement calculer individuellement cette distance avec toutes les contributions dans notre base de données, et renvoyer la contribution plus proche de la requête. Cela devient vite un casse-tête lorsque la taille de la base de données augmente (non seulement il faut la charger en mémoire, mais en plus on doit faire le calcul de distance pour toutes les contributions).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_9":{"__typename":"Paragraph","id":"dcc0c53904fc_9","name":"4a82","type":"P","href":null,"layout":null,"metadata":null,"text":"C’est là qu’intervient le concept d’index : plutôt que de charger toute la base de données en mémoire et de faire plusieurs millions de calculs pour trouver le vecteur le plus proche de notre requête, on va effectuer cette recherche sur une représentation de la base de données : par exemple, on va la découper en “zones” et ne chercher que dans la zone autour de notre requête, ou on va compresser les vecteurs de la base pour en réduire la taille, etc. C’est cette représentation qu’on appelle l’index.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":241,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_10":{"__typename":"Paragraph","id":"dcc0c53904fc_10","name":"ea42","type":"H4","href":null,"layout":null,"metadata":null,"text":"Faiss","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_11":{"__typename":"Paragraph","id":"dcc0c53904fc_11","name":"6572","type":"P","href":null,"layout":null,"metadata":null,"text":"Faiss, c’est Fast AI Similarity Search, un module développé par facebook AI pour l’indexation et la recherche dans un ensemble de vecteurs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_12":{"__typename":"Paragraph","id":"dcc0c53904fc_12","name":"b0c5","type":"P","href":null,"layout":null,"metadata":null,"text":"Plusieurs types d’indexes sont implémentés dans faiss, à des niveaux de sophistication différents allant de la simple recherche exhaustive, à des indexes compressés et très rapides (permettant la recherche dans des ensembles de l’ordre de plusieurs milliards de vecteurs). Différents indexes présentent différents avantages et inconvénients : en général, il y aura toujours une forme d’équilibre à trouver entre la précision (à quel point la contribution retournée est proche de la requête), et la performance (vitesse et\u002Fou taille en mémoire).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_13":{"__typename":"Paragraph","id":"dcc0c53904fc_13","name":"fc75","type":"P","href":null,"layout":null,"metadata":null,"text":"Cet article est accompagné d’un notebook qui présente des exemples\u002Ftests sur un dataset généré aléatoirement.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":32,"end":41,"href":"https:\u002F\u002Fgithub.com\u002Fljnmedium\u002Fles-index-de-faiss","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_14":{"__typename":"Paragraph","id":"dcc0c53904fc_14","name":"0821","type":"H3","href":null,"layout":null,"metadata":null,"text":"Installation et création d’un index plat (recherche exhaustive).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_15":{"__typename":"Paragraph","id":"dcc0c53904fc_15","name":"7248","type":"P","href":null,"layout":null,"metadata":null,"text":"Il existe deux versions (et donc deux paquets), faiss-cpu et faiss-gpu. On installe avec pip :","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":48,"end":58,"href":"https:\u002F\u002Fpypi.org\u002Fproject\u002Ffaiss-cpu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":61,"end":70,"href":"https:\u002F\u002Fpypi.org\u002Fproject\u002Ffaiss-gpu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_16":{"__typename":"Paragraph","id":"dcc0c53904fc_16","name":"b5c6","type":"P","href":null,"layout":null,"metadata":null,"text":"pip install faiss-cpu","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_17":{"__typename":"Paragraph","id":"dcc0c53904fc_17","name":"151f","type":"P","href":null,"layout":null,"metadata":null,"text":"On commence par créer un index plat(IndexFlatL2) : nos vecteurs sont stockés tels quels, et la recherche est exhaustive. En gros, on ne fait rien de spécial. Ce type d’index renvoie des résultats exacts : comme nos vecteurs ne sont pas compressés, et qu’on cherche dans toute la base, on est sûr que le résultat de notre requête sera LE vecteur le plus proche (et pas un autre). En revanche, cela consomme pas mal de mémoire (on stocke tous les vecteurs) et c’est assez long (on compare la requête avec tout l’ensemble).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":36,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_18":{"__typename":"Paragraph","id":"dcc0c53904fc_18","name":"7db1","type":"P","href":null,"layout":null,"metadata":null,"text":"Pour initialiser la classe, faiss aura besoin de la dimension d de nos vecteurs. On ajoute ensuite les vecteurs à l’index avec index.add(). Par défaut, faiss s’attend à un array de dimension (n_vecteurs x d).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":62,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":127,"end":138,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":192,"end":202,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":205,"end":206,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:ff55499e705e6c55c705c64e15aec394":{"__typename":"MediaResource","id":"ff55499e705e6c55c705c64e15aec394","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-1"},"Paragraph:dcc0c53904fc_19":{"__typename":"Paragraph","id":"dcc0c53904fc_19","name":"aed4","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:ff55499e705e6c55c705c64e15aec394"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_20":{"__typename":"Paragraph","id":"dcc0c53904fc_20","name":"2f4b","type":"P","href":null,"layout":null,"metadata":null,"text":"On effectue une recherche avec index.search(xq, k), où","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":31,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_21":{"__typename":"Paragraph","id":"dcc0c53904fc_21","name":"5785","type":"ULI","href":null,"layout":null,"metadata":null,"text":"xq est notre requête. Il peut s’agir d’un seul vecteur ou d’un array de plusieurs vecteurs (si on veut chercher plusieurs vecteurs d’un coup).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":2,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_22":{"__typename":"Paragraph","id":"dcc0c53904fc_22","name":"2679","type":"ULI","href":null,"layout":null,"metadata":null,"text":"k est le nombre de résultats par vecteur à renvoyer.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":1,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_23":{"__typename":"Paragraph","id":"dcc0c53904fc_23","name":"0d1c","type":"P","href":null,"layout":null,"metadata":null,"text":"Donc si on veut les 5 résultats les plus proches de 4 vecteurs donnés, xq sera de dimension (4, d) et k sera égal à 5.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":71,"end":73,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":102,"end":103,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_24":{"__typename":"Paragraph","id":"dcc0c53904fc_24","name":"7588","type":"P","href":null,"layout":null,"metadata":null,"text":"La méthode .search() renvoie deux objets :","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":11,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_25":{"__typename":"Paragraph","id":"dcc0c53904fc_25","name":"c154","type":"ULI","href":null,"layout":null,"metadata":null,"text":"une matrice D des distances, de taille (n, k) également, où la i-ème ligne contient les distances (au carré) des k vecteurs les plus proches du i-ème vecteur de la requête.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_26":{"__typename":"Paragraph","id":"dcc0c53904fc_26","name":"8522","type":"ULI","href":null,"layout":null,"metadata":null,"text":"le résultat de notre recherche : une matrice I de taille (n, k) où n est le nombre de vecteurs dans notre requête. La i-ème ligne contient les indices des k vecteurs les plus proches du i-ème vecteur de la requête.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_27":{"__typename":"Paragraph","id":"dcc0c53904fc_27","name":"f372","type":"H4","href":null,"layout":null,"metadata":null,"text":"Un exemple","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_28":{"__typename":"Paragraph","id":"dcc0c53904fc_28","name":"f5b1","type":"P","href":null,"layout":null,"metadata":null,"text":"Avec la commande suivante :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:135c59051b2b442306d7b51a48fa41c8":{"__typename":"MediaResource","id":"135c59051b2b442306d7b51a48fa41c8","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-10"},"Paragraph:dcc0c53904fc_29":{"__typename":"Paragraph","id":"dcc0c53904fc_29","name":"7494","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:135c59051b2b442306d7b51a48fa41c8"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_30":{"__typename":"Paragraph","id":"dcc0c53904fc_30","name":"f1a6","type":"P","href":null,"layout":null,"metadata":null,"text":"on demande à faiss de chercher les vecteurs les plus proches des trois premiers vecteurs de notre dataset.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_31":{"__typename":"Paragraph","id":"dcc0c53904fc_31","name":"d77f","type":"P","href":null,"layout":null,"metadata":null,"text":"Faiss renvoie la matrice I (indices) suivante :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_32":{"__typename":"Paragraph","id":"dcc0c53904fc_32","name":"bfda","type":"PRE","href":null,"layout":null,"metadata":null,"text":"[[    0 18096 23340 69719 76760]\n [    1 21442 14241 16511 88648]\n [    2 31767 77193 90699 42060]]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"lua"},"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_33":{"__typename":"Paragraph","id":"dcc0c53904fc_33","name":"6278","type":"P","href":null,"layout":null,"metadata":null,"text":"La première ligne contient les indices des 5 vecteurs les plus proches du vecteur 0 dans la base ; sans surprise, le vecteur le plus proche du vecteur 0 est lui-même. Le deuxième vecteur le plus proches est le vecteur n°18096, etc.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_34":{"__typename":"Paragraph","id":"dcc0c53904fc_34","name":"12ce","type":"P","href":null,"layout":null,"metadata":null,"text":"La deuxième ligne contient les indices des 5 vecteurs les plus proches du vecteur 1, et pareil pour la troisième ligne.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_35":{"__typename":"Paragraph","id":"dcc0c53904fc_35","name":"b35d","type":"P","href":null,"layout":null,"metadata":null,"text":"La matrice D (distance) renvoyée se présente quant à elle sous la forme suivante :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_36":{"__typename":"Paragraph","id":"dcc0c53904fc_36","name":"6f06","type":"PRE","href":null,"layout":null,"metadata":null,"text":"[[ 0.       14.362421 14.602067 14.767819 15.029004]\n [ 0.       12.729409 13.443033 13.679935 14.520304]\n [ 0.       13.01179  13.469017 13.666645 13.668671]]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"lua"},"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_37":{"__typename":"Paragraph","id":"dcc0c53904fc_37","name":"a0f0","type":"P","href":null,"layout":null,"metadata":null,"text":"La première ligne contient les distances des 5 vecteurs les plus proches du premier vecteur de la base. On peut donc voir que le vecteur 0 est à une distance 0 de lui-même, que le vecteur 18096 est à une distance de 14.36, que le vecteur 88648 est à une distance 14.52 du vecteur 1, etc.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_38":{"__typename":"Paragraph","id":"dcc0c53904fc_38","name":"1936","type":"H3","href":null,"layout":null,"metadata":null,"text":"Plus rapide : l’index inversé.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_39":{"__typename":"Paragraph","id":"dcc0c53904fc_39","name":"890c","type":"P","href":null,"layout":null,"metadata":null,"text":"Faiss permet la création d’un index inversé (IVF, inverted file index), qui permet de réduire le nombre de vecteurs qu’on compare à notre requête.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_40":{"__typename":"Paragraph","id":"dcc0c53904fc_40","name":"949e","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Lors de la création de l’index, on regroupe nos vecteurs en clusters (cellules, dans le langage faiss) avec k-means.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_41":{"__typename":"Paragraph","id":"dcc0c53904fc_41","name":"858b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Au moment de la recherche, on compare notre requête aux centroïdes des cellules et on sélectionne les plus proches de la requête.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_42":{"__typename":"Paragraph","id":"dcc0c53904fc_42","name":"aa65","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On compare ensuite notre requête aux vecteurs qui sont situés dans les cellules sélectionnées.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_43":{"__typename":"Paragraph","id":"dcc0c53904fc_43","name":"2237","type":"P","href":null,"layout":null,"metadata":null,"text":"Le nombre de cellules créées au moment de l’indexing, ainsi que le nombre de cellules visitées lors de la recherche, sont des paramètres à déterminer.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*AnXWj9GRJnPYwX5w5otvyw.png":{"__typename":"ImageMetadata","id":"1*AnXWj9GRJnPYwX5w5otvyw.png","originalHeight":1024,"originalWidth":1024,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_44":{"__typename":"Paragraph","id":"dcc0c53904fc_44","name":"d4b7","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*AnXWj9GRJnPYwX5w5otvyw.png"},"text":"Cellules et centroïdes (source)","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":24,"end":30,"href":"https:\u002F\u002Fcommons.wikimedia.org\u002Fwiki\u002FFile:Euclidean_Voronoi_diagram.svg","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_45":{"__typename":"Paragraph","id":"dcc0c53904fc_45","name":"0c16","type":"P","href":null,"layout":null,"metadata":null,"text":"Ci-dessous, un exemple avec une dimension d’embedding de 1024, et dix cellules :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:d486265ab5bce112daed78281d989953":{"__typename":"MediaResource","id":"d486265ab5bce112daed78281d989953","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-2"},"Paragraph:dcc0c53904fc_46":{"__typename":"Paragraph","id":"dcc0c53904fc_46","name":"f8d4","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:d486265ab5bce112daed78281d989953"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_47":{"__typename":"Paragraph","id":"dcc0c53904fc_47","name":"f003","type":"P","href":null,"layout":null,"metadata":null,"text":"Le paramètre quantizer spécifie quelle représentation des vecteurs on va utiliser pour calculer les clusters. Ici on utilise un index plat, c’est-à-dire qu’on va clusteriser les vecteurs sans en réduire la dimension ou les compresser.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":13,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_48":{"__typename":"Paragraph","id":"dcc0c53904fc_48","name":"a13b","type":"P","href":null,"layout":null,"metadata":null,"text":"On initialise la classe, et on entraîne l’index pour créer nos cellules (note : ça peut être fait sur un extrait représentatif des données). Enfin, on ajoute nos données à l’index, qui va les répartir dans les cellules.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_49":{"__typename":"Paragraph","id":"dcc0c53904fc_49","name":"2260","type":"P","href":null,"layout":null,"metadata":null,"text":"Le paramètre nprobe spécifie combien de cellules on souhaite visiter lors de la recherche (on prendra alors les nprobe cellules dont les centroïdes sont les plus proches de notre requête).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":13,"end":19,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":112,"end":118,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_50":{"__typename":"Paragraph","id":"dcc0c53904fc_50","name":"2961","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Terminologie, cellules, et équilibre vitesse-précision","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_51":{"__typename":"Paragraph","id":"dcc0c53904fc_51","name":"176f","type":"BQ","href":null,"layout":null,"metadata":null,"text":"La terminologie index inversé vient du fait qu’on assigne d’abord un numéro de cluster à chaque vecteur, puis qu’on écrit une table indexée par numéro de cluster, contenant l’ensemble des vecteurs dans chaque cluster. Ce serait un peu comme un annuaire organisé par adresse plutôt que par nom.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":16,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_52":{"__typename":"Paragraph","id":"dcc0c53904fc_52","name":"0a3e","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Les clusters sont appelés cellules en référence aux cellules de Voronoï, un pavage de l’espace tel que tout point est assigné à une cellule dont il est plus proche du centroïde que de tous les autres centroïdes. Le clustering est effectué via K-means.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":26,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_53":{"__typename":"Paragraph","id":"dcc0c53904fc_53","name":"4b93","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Plus on a de cellules, et plus les cellules sont petites, donc plus la recherche sera rapide. En revanche, on perd en précision : si le vecteur le plus proche de notre requête n’est pas dans la même cellule (par exemple si on est un peu au bord d’une cellule), alors il ne sera pas retourné par la recherche.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_54":{"__typename":"Paragraph","id":"dcc0c53904fc_54","name":"d5f4","type":"H3","href":null,"layout":null,"metadata":null,"text":"Plus compact : la quantization (compression)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_55":{"__typename":"Paragraph","id":"dcc0c53904fc_55","name":"347a","type":"P","href":null,"layout":null,"metadata":null,"text":"Si on ne souhaite pas stocker en mémoire l’intégralité de notre ensemble de vecteurs, on peut se tourner vers une solution de compression proposée par faiss : la product quantization.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":162,"end":182,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_56":{"__typename":"Paragraph","id":"dcc0c53904fc_56","name":"cf02","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On commence par découper nos vecteurs en segments, c’est-à-dire en sous-vecteurs d’une longueur donnée. Par exemple, dans un vecteur de taille 1000, on peut faire 10 segments de taille 100.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":41,"end":49,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_57":{"__typename":"Paragraph","id":"dcc0c53904fc_57","name":"fafc","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On effectue un clustering sur l’ensemble des premiers segments, puis sur l’ensemble des deuxièmes segments, etc… dans notre exemple, cela correspond à effectuer 10 clusterings différents, chacun sur un espace de dimension 100.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_58":{"__typename":"Paragraph","id":"dcc0c53904fc_58","name":"2fe9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Pour stocker un vecteur dans notre index, on le découpe en segments, puis on calcule à quelle cellule appartient chaque segment (disons qu’on a choisi de faire 20 cellules). On peut ensuite remplacer chaque segment par l’ID de la cellule correspondante.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_59":{"__typename":"Paragraph","id":"dcc0c53904fc_59","name":"54e9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Dans notre exemple, on aura donc remplacé un vecteur de taille 1000 par un vecteur de taille 10, dont chaque coordonnée sera un nombre entre 1 et 20 (correspondant à une cellule).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_60":{"__typename":"Paragraph","id":"dcc0c53904fc_60","name":"23b3","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On ne peut plus retrouver le vecteur d’origine, mais seulement une approximation, en recollant les 10 centroïdes (de taille 100) correspondant aux cellules.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*McH4Vg5Uqr-6PV5b0klzsg.jpeg":{"__typename":"ImageMetadata","id":"1*McH4Vg5Uqr-6PV5b0klzsg.jpeg","originalHeight":1498,"originalWidth":2668,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_61":{"__typename":"Paragraph","id":"dcc0c53904fc_61","name":"3b7d","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*McH4Vg5Uqr-6PV5b0klzsg.jpeg"},"text":"Le processus de quantization illustré avec des vecteurs de dimension 16, et 4 segments. Les segments orange sont répartis en clusters, puis leurs coordonnées sont remplacées par les numéros de cluster dans le vecteur original. L’opération est ensuite répétée pour les autres segments.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_62":{"__typename":"Paragraph","id":"dcc0c53904fc_62","name":"0668","type":"P","href":null,"layout":null,"metadata":null,"text":"La taille de l’index en mémoire est grandement réduite, mais la compression n’est pas sans perte d’information, et la précision de la recherche peut en souffrir : en théorie deux vecteurs peuvent se retrouver avec les mêmes combinaisons de centroïdes, et donc les mêmes coordonnées.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_63":{"__typename":"Paragraph","id":"dcc0c53904fc_63","name":"8bd1","type":"P","href":null,"layout":null,"metadata":null,"text":"Le code :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:2e23f23e7dc9171a32e92af68b45bd8c":{"__typename":"MediaResource","id":"2e23f23e7dc9171a32e92af68b45bd8c","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-3"},"Paragraph:dcc0c53904fc_64":{"__typename":"Paragraph","id":"dcc0c53904fc_64","name":"85c5","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:2e23f23e7dc9171a32e92af68b45bd8c"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_65":{"__typename":"Paragraph","id":"dcc0c53904fc_65","name":"8cdc","type":"P","href":null,"layout":null,"metadata":null,"text":"Encore une fois, on initialise l’index puis on l’entraîne et on ajoute nos vecteurs. Cette opération peut prendre du temps sur de gros volumes de données.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_66":{"__typename":"Paragraph","id":"dcc0c53904fc_66","name":"a296","type":"P","href":null,"layout":null,"metadata":null,"text":"Note : l’index choisi ici est un IVFPQ , c’est-à-dire un index inversé avec product quantization. Dans ce cas, le paramètre N_CELLS correspondra au nombre de cellules de Voronoï dans l’index inversé, et également au nombre de cellules utilisées dans la quantization. On pourra aussi jouer avec le paramètre nprobe pour la recherche.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":33,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":124,"end":131,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":307,"end":313,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_67":{"__typename":"Paragraph","id":"dcc0c53904fc_67","name":"dc9b","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Le paramètre quantizer","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":13,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_68":{"__typename":"Paragraph","id":"dcc0c53904fc_68","name":"4ed6","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Le paramètre quantizer détermine comment on va effectuer la recherche parmi nos centroïdes. Ici, on choisit un index plat, c’est-à-dire qu’on va effectuer une recherche exhaustive.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":13,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_69":{"__typename":"Paragraph","id":"dcc0c53904fc_69","name":"ff5b","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Pour une centaine de centroïdes, c’est assez logique, mais lorsque les jeux de données deviennent conséquents, on va chercher à optimiser cette recherche. On aura donc deux indexes : un index pour les vecteurs, et un index pour les centroïdes.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_70":{"__typename":"Paragraph","id":"dcc0c53904fc_70","name":"50de","type":"H3","href":null,"layout":null,"metadata":null,"text":"Un autre paradigme : Hierarchical Navigable Small Worlds (HNSW)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_71":{"__typename":"Paragraph","id":"dcc0c53904fc_71","name":"9b78","type":"P","href":null,"layout":null,"metadata":null,"text":"Le fait de découper le jeu de données en cellules permet de se rapporter à un problème plus petit, mais fondamentalement, on effectue la même opération : une recherche exhaustive dans chaque cellule que l’on visite. Notre seul levier d’action en termes de vitesse est alors de diminuer le nombre de vecteurs auxquels on va comparer notre requête (soit en augmentant le nombre de cellules, qui seront alors plus petites, soit en diminuant le nombre de cellules visitées par requête) ; cette méthode a ses limites (notamment quand la dimension devient importante).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_72":{"__typename":"Paragraph","id":"dcc0c53904fc_72","name":"37f7","type":"P","href":null,"layout":null,"metadata":null,"text":"Un autre paradigme de recherche implémenté dans faiss permet de court-circuiter certains vecteurs en ne comparant notre requête qu’aux plus pertinents : le Hierarchical Navigable Small Worlds (HNSW).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_73":{"__typename":"Paragraph","id":"dcc0c53904fc_73","name":"2844","type":"P","href":null,"layout":null,"metadata":null,"text":"Le HNSW est construit à partir du NSW (Navigable Small Worlds), qui fonctionne comme suit :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_74":{"__typename":"Paragraph","id":"dcc0c53904fc_74","name":"a396","type":"ULI","href":null,"layout":null,"metadata":null,"text":"on construit un graphe des vecteurs (note : la construction est détaillée plus bas) ; on s’arrange pour que les paires de vecteurs assez proches soient reliées par une arête, mais aussi pour qu’on ait des arêtes un peu plus longues","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_75":{"__typename":"Paragraph","id":"dcc0c53904fc_75","name":"aa70","type":"ULI","href":null,"layout":null,"metadata":null,"text":"on démarre notre recherche en comparant notre requête à un vecteur déterminé à l’avance : le point d’entrée","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_76":{"__typename":"Paragraph","id":"dcc0c53904fc_76","name":"9729","type":"ULI","href":null,"layout":null,"metadata":null,"text":"ensuite, on compare la requête aux vecteurs qui sont reliés à ce premier vecteur, et on choisit le plus proche","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_77":{"__typename":"Paragraph","id":"dcc0c53904fc_77","name":"5a6f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"on continue jusqu’à ce qu’on ne puisse plus améliorer la distance, ou qu’on ait atteint un nombre pré-déterminé d’itérations","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_78":{"__typename":"Paragraph","id":"dcc0c53904fc_78","name":"0b49","type":"P","href":null,"layout":null,"metadata":null,"text":"Ci-dessous une illustration de NSW : on entre dans le graphe par le point d’entrée (en forme d’étoile). À chaque étape, parmi les points reliés au nôtre, on choisit le point le plus proche de la requête (en rouge, en haut). On s’arrête quand on a atteint un minimum. Le chemin suivi est représenté par les lignes solides (en jaune), et les comparaisons effectuées en lignes pointillées. Le reste du graphe est représenté en filigrane pour ne pas surcharger l’image.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*-QXpxvZ0i6_jek8gOlB3-g.jpeg":{"__typename":"ImageMetadata","id":"1*-QXpxvZ0i6_jek8gOlB3-g.jpeg","originalHeight":1498,"originalWidth":2668,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_79":{"__typename":"Paragraph","id":"dcc0c53904fc_79","name":"9598","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*-QXpxvZ0i6_jek8gOlB3-g.jpeg"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_80":{"__typename":"Paragraph","id":"dcc0c53904fc_80","name":"9150","type":"P","href":null,"layout":null,"metadata":null,"text":"C’est un algorithme glouton, qui va donc renvoyer un minimum local. Pour qu’il soit aussi proche possible du vrai minimum (LE vecteur le plus proche de notre requête), il faut s’assurer que notre maillage est assez dense. Mais si le maillage est trop dense, on multiplie les comparaisons, et la complexité de la recherche. C’est là qu’entre en jeu la notion de graphes hiérarchiques.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":369,"end":382,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg":{"__typename":"ImageMetadata","id":"1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg","originalHeight":1498,"originalWidth":2668,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_81":{"__typename":"Paragraph","id":"dcc0c53904fc_81","name":"1f14","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*fvKFW4uXdaOmAMe_bPNk2Q.jpeg"},"text":"Un graphe HNSW simplifié. La requête est symbolisée par le point rouge en haut à gauche. Le point d’entrée est le point le plus en haut à droite. On voyage le long des arêtes du graphe jusqu’à ce qu’on ne puisse plus améliorer la distance à la requête. Puis on descend d’un étage.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_82":{"__typename":"Paragraph","id":"dcc0c53904fc_82","name":"3b84","type":"P","href":null,"layout":null,"metadata":null,"text":"Imaginons que l’on découpe notre graphe en trois étages :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_83":{"__typename":"Paragraph","id":"dcc0c53904fc_83","name":"206f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"troisième étage : un graphe avec, disons, seulement un vecteur sur 100, pris au hasard, et reliés entre eux selon leur proximité, comme décrit précédemment.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_84":{"__typename":"Paragraph","id":"dcc0c53904fc_84","name":"65ec","type":"ULI","href":null,"layout":null,"metadata":null,"text":"deuxième étage : un graphe comprenant un vecteur sur 10 (les mêmes vecteurs qu’au troisième étage + d’autres vecteurs) ; encore une fois, on les relie entre eux selon leur proximité.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_85":{"__typename":"Paragraph","id":"dcc0c53904fc_85","name":"aaf9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"premier étage : un graphe comprenant tous les vecteurs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_86":{"__typename":"Paragraph","id":"dcc0c53904fc_86","name":"178e","type":"P","href":null,"layout":null,"metadata":null,"text":"Ainsi, quand on veut effectuer une recherche, on commence par naviguer au troisième étage. Une fois qu’on ne peut plus améliorer la distance, on “descend” dans le deuxième étage, et on affine notre résultat. Puis dans le premier étage.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_87":{"__typename":"Paragraph","id":"dcc0c53904fc_87","name":"1deb","type":"P","href":null,"layout":null,"metadata":null,"text":"Cette approche a deux avantages :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_88":{"__typename":"Paragraph","id":"dcc0c53904fc_88","name":"6a2f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"en moyenne, on prend moins de temps à trouver notre minimum local","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_89":{"__typename":"Paragraph","id":"dcc0c53904fc_89","name":"318e","type":"ULI","href":null,"layout":null,"metadata":null,"text":"on peut se permettre de relier des vecteurs très lointains dans les couches supérieures, sans risquer de trop densifier le maillage","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_90":{"__typename":"Paragraph","id":"dcc0c53904fc_90","name":"d5ae","type":"P","href":null,"layout":null,"metadata":null,"text":"En termes de code, pour générer un HNSW plat :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:0a330f04227b08ac7f5629c0321e3883":{"__typename":"MediaResource","id":"0a330f04227b08ac7f5629c0321e3883","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-4"},"Paragraph:dcc0c53904fc_91":{"__typename":"Paragraph","id":"dcc0c53904fc_91","name":"9860","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:0a330f04227b08ac7f5629c0321e3883"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_92":{"__typename":"Paragraph","id":"dcc0c53904fc_92","name":"00a1","type":"P","href":null,"layout":null,"metadata":null,"text":"La taille en mémoire et le temps d’entraînement sont considérables : c’est un index qui est utile pour de gros volumes de données, mais pas vraiment pour un petit dataset (j’ai testé avec ~400k vecteurs, ce n’est pas concluant du tout).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_93":{"__typename":"Paragraph","id":"dcc0c53904fc_93","name":"6b20","type":"BQ","href":null,"layout":null,"metadata":null,"text":"La construction du graphe HSNW en détails","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_94":{"__typename":"Paragraph","id":"dcc0c53904fc_94","name":"fe70","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Pour construire le graphe HNSW, on procède par étapes.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_95":{"__typename":"Paragraph","id":"dcc0c53904fc_95","name":"ed62","type":"BQ","href":null,"layout":null,"metadata":null,"text":"1. On détermine (en fonction du dataset) combien de voisins M chaque point doit avoir dans le graphe.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":60,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_96":{"__typename":"Paragraph","id":"dcc0c53904fc_96","name":"e7ba","type":"BQ","href":null,"layout":null,"metadata":null,"text":"2. Pour chaque niveau, on calcule une probabilité (qui dépend de M) : celle qu'un vecteur appartienne à ce niveau. Le niveau 0, le plus bas, contiendra tous les points (donc la probabilité est de 1). La probabilité décroit exponentiellement avec le niveau (donc plus le niveau est élevé et moins il contient de points).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":65,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_97":{"__typename":"Paragraph","id":"dcc0c53904fc_97","name":"fa60","type":"BQ","href":null,"layout":null,"metadata":null,"text":"3. Lorsqu’on insère un nouveau point p dans le graphe, on génère un nombre uniforme entre 0 et 1 pour déterminer le niveau maximum l_maxdans lequel ce point sera présent. Il sera présent dans ce niveau, et dans tous ceux en-dessous.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":37,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":131,"end":136,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_98":{"__typename":"Paragraph","id":"dcc0c53904fc_98","name":"b8ca","type":"BQ","href":null,"layout":null,"metadata":null,"text":"4. On insère le point p dans chaque niveau jusqu'à l_max, et on le connecte à chaque fois aux M points les plus proches dans ce niveau. Au niveau 0, on le connecte aux 2*M points les plus proches.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":22,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":51,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":94,"end":95,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":168,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_99":{"__typename":"Paragraph","id":"dcc0c53904fc_99","name":"ee12","type":"BQ","href":null,"layout":null,"metadata":null,"text":"5. Petite subtilité : si un voisin de p (disons, q) a déjà un autre voisin r, et que r est plus proche de q que de p, on choisit de ne pas connecter p et r. Cela permet de ne pas multiplier les connexions entre des points très proches au sein d’un même cluster, et de privilégier des connexions avec des distances un peu moins courtes (illustration ci-dessous).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":38,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":49,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":75,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":85,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":106,"end":107,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":115,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":149,"end":150,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":154,"end":155,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*LftEBbQJ2XscfLCkb5OTIg.jpeg":{"__typename":"ImageMetadata","id":"1*LftEBbQJ2XscfLCkb5OTIg.jpeg","originalHeight":1328,"originalWidth":3009,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_100":{"__typename":"Paragraph","id":"dcc0c53904fc_100","name":"ed3c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*LftEBbQJ2XscfLCkb5OTIg.jpeg"},"text":"Illustration de la petite subtilité : le point p est plus proche de r que de s. Mais comme il est relié au point q, qui est déjà lui-même très proche de r, on le relie plutôt à s. Cela permet de diversifier la longueur des arêtes.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_101":{"__typename":"Paragraph","id":"dcc0c53904fc_101","name":"6585","type":"H3","href":null,"layout":null,"metadata":null,"text":"Combiner les indexes avec le quantizer","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_102":{"__typename":"Paragraph","id":"dcc0c53904fc_102","name":"537d","type":"P","href":null,"layout":null,"metadata":null,"text":"Il est possible de combiner HSNW et IVFPQ en se servant du premier comme d’un quantizer ; au moment de chercher les cellules les plus proches de notre requête, l’algorithme fera donc appel à HNSW plutôt que de faire une recherche exhaustive parmi les centroïdes.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_103":{"__typename":"Paragraph","id":"dcc0c53904fc_103","name":"c211","type":"P","href":null,"layout":null,"metadata":null,"text":"Cela permet d’avoir une recherche efficace parmi nos centroïdes, et de bénéficier de la petite taille en mémoire de IVFPQ.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_104":{"__typename":"Paragraph","id":"dcc0c53904fc_104","name":"a0b9","type":"H3","href":null,"layout":null,"metadata":null,"text":"Mention spéciale : Locality Sensitive Hashing","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_105":{"__typename":"Paragraph","id":"dcc0c53904fc_105","name":"8a83","type":"P","href":null,"layout":null,"metadata":null,"text":"Locality Sensitive Hashing est un autre algorithme de réduction de dimension dont la première version de date de 1999. L’idée est de construire une table de hachage (hash table) de notre jeu de données, en maximisant les collisions (c’est-à-dire, la probabilité que deux vecteurs se retrouvent dans la même alvéole) pour les vecteurs suffisamment similaires.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":166,"end":176,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_106":{"__typename":"Paragraph","id":"dcc0c53904fc_106","name":"69e5","type":"P","href":null,"layout":null,"metadata":null,"text":"Cet algorithme souffre de deux défauts principaux :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_107":{"__typename":"Paragraph","id":"dcc0c53904fc_107","name":"45a9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"pour obtenir des résultats suffisamment précis, il faut multiplier le nombre d’alvéoles, ce qui entraîne un surcoût en mémoire","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_108":{"__typename":"Paragraph","id":"dcc0c53904fc_108","name":"b814","type":"ULI","href":null,"layout":null,"metadata":null,"text":"les fonctions de hachage ne sont pas adaptables aux données et à leur distribution : par exemple, on aura autant d’alvéoles dans une région dense de l’espace que dans une région plus vide","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_109":{"__typename":"Paragraph","id":"dcc0c53904fc_109","name":"cc55","type":"P","href":null,"layout":null,"metadata":null,"text":"La seule version de LSH supportée par faiss est le LSH binaire : un index plat avec des codes binaires. La documentation de faiss n’est pas très claire au sujet de l’algorithme de hachage utilisé ; ci-dessous, l’un des plus populaires, random projection, illustré ci-dessous.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":236,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*lVInBmLHfM9GxarUZ09xXw.jpeg":{"__typename":"ImageMetadata","id":"1*lVInBmLHfM9GxarUZ09xXw.jpeg","originalHeight":1677,"originalWidth":2384,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_110":{"__typename":"Paragraph","id":"dcc0c53904fc_110","name":"512c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*lVInBmLHfM9GxarUZ09xXw.jpeg"},"text":"Un LSH en deux dimensions avec quatre hyperplans (droites). Les chiffres du code sont déterminés par le côté de la droite duquel se situent les points. Tous les vecteurs qui sont dans la même “zone” ont le même code.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_111":{"__typename":"Paragraph","id":"dcc0c53904fc_111","name":"a098","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On produit aléatoirement k vecteurs de l’espace, qu’on va appeler v1, v2, … vk.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":25,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":66,"end":68,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":70,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":76,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_112":{"__typename":"Paragraph","id":"dcc0c53904fc_112","name":"95e9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Pour chaque vecteur x de notre jeu de données, on construit un vecteur h, de taille k, de la manière suivante : chaque coordonnée est le signe du produit scalaire de x avec l’un des vecteurs aléatoires (1 si le produit est positif, 0 s’il est négatif). Donc, la première coordonnée est le signe de x.v1, la deuxième est le signe de x.v2, etc.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":20,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":71,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":84,"end":85,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":166,"end":167,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":298,"end":302,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":332,"end":336,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_113":{"__typename":"Paragraph","id":"dcc0c53904fc_113","name":"083c","type":"P","href":null,"layout":null,"metadata":null,"text":"Le signe du produit scalaire indique “de quel côté” du vecteur aléatoire se situe x. Cela revient à découper notre espace en alvéoles avec des hyperplans aléatoires. Note : on ne stocke pas les vecteurs originaux dans l’index, et seulement leur projection.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":82,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_114":{"__typename":"Paragraph","id":"dcc0c53904fc_114","name":"f3c5","type":"P","href":null,"layout":null,"metadata":null,"text":"Lorsque que l’on effectue une recherche, on commence par projeter notre requête sur les vecteurs aléatoires, pour construire le vecteur binaire correspondant, puis on retourne tous les vecteurs correspondant à l’alvéole atteinte. Notre recherche va donc renvoyer plusieurs candidats, que l’on n’a aucune manière d’ordonner (puisque l’on ne stocke pas les vecteurs originaux dans l’index). LSH est très rapide, mais très peu précis.Ci-dessous, le code pour LSH :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:25046be290c37c322d51b4fdde0f90f2":{"__typename":"MediaResource","id":"25046be290c37c322d51b4fdde0f90f2","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"beatriceljn-faiss-4"},"Paragraph:dcc0c53904fc_115":{"__typename":"Paragraph","id":"dcc0c53904fc_115","name":"02f1","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:25046be290c37c322d51b4fdde0f90f2"}},"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_116":{"__typename":"Paragraph","id":"dcc0c53904fc_116","name":"0060","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_117":{"__typename":"Paragraph","id":"dcc0c53904fc_117","name":"3e5e","type":"P","href":null,"layout":null,"metadata":null,"text":"L’utilisation d’un index permet d’optimiser les performances d’une recherche de similarité lorsque la recherche exhaustive n’est pas envisageable car trop coûteuse.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_118":{"__typename":"Paragraph","id":"dcc0c53904fc_118","name":"ba7b","type":"P","href":null,"layout":null,"metadata":null,"text":"Les trois principaux index proposés par faiss sont :","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_119":{"__typename":"Paragraph","id":"dcc0c53904fc_119","name":"f842","type":"ULI","href":null,"layout":null,"metadata":null,"text":"IVF (index inversé), qui répartit les vecteurs en cellules (clusters), et compare la requête aux vecteurs présents dans un ou plusieurs clusters ;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_120":{"__typename":"Paragraph","id":"dcc0c53904fc_120","name":"d5a8","type":"ULI","href":null,"layout":null,"metadata":null,"text":"PQ (product quantization), qui compresse les vecteurs en les divisant en segments qui sont ensuite répartis en clusters ;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_121":{"__typename":"Paragraph","id":"dcc0c53904fc_121","name":"7a13","type":"ULI","href":null,"layout":null,"metadata":null,"text":"HNSW (hierarchical navigable small worlds), qui construit un graphe à plusieurs étages permettant de naviguer facilement d’un vecteur de la base à un autre.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_122":{"__typename":"Paragraph","id":"dcc0c53904fc_122","name":"a9d1","type":"P","href":null,"layout":null,"metadata":null,"text":"Ci-dessous, un tableau récapitulatif des avantages et inconvénients de chacun : un + signifie un avantage, un — : un inconvénient et un — — : un gros inconvénient.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*4ku_DNfGnBMWWCC1t-9uqQ.png":{"__typename":"ImageMetadata","id":"1*4ku_DNfGnBMWWCC1t-9uqQ.png","originalHeight":180,"originalWidth":515,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:dcc0c53904fc_123":{"__typename":"Paragraph","id":"dcc0c53904fc_123","name":"6bf0","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*4ku_DNfGnBMWWCC1t-9uqQ.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_124":{"__typename":"Paragraph","id":"dcc0c53904fc_124","name":"033e","type":"P","href":null,"layout":null,"metadata":null,"text":"Dans un premier temps, il faudra entraîner l’index sur les données afin de les répartir en clusters, les compresser, ou de construire le graphe (c’est le “AI” de “faiss”). On devra également choisir des hyperparamètres, qui permettront de trouver le juste équilibre entre la précision des résultats renvoyés et les performances.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_125":{"__typename":"Paragraph","id":"dcc0c53904fc_125","name":"059b","type":"P","href":null,"layout":null,"metadata":null,"text":"Enfin, on peut combiner les indexes en utilisant un quantizer afin, par exemple, d’optimiser la recherche parmi les centroïdes de nos clusters.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_126":{"__typename":"Paragraph","id":"dcc0c53904fc_126","name":"b1d4","type":"H3","href":null,"layout":null,"metadata":null,"text":"Remerciement","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_127":{"__typename":"Paragraph","id":"dcc0c53904fc_127","name":"7473","type":"P","href":null,"layout":null,"metadata":null,"text":"Merci à nos collègues Agnes GIRARDOT, Edouard LAVAUD, Lu WANG et Nhut DOAN NGUYEN pour la revue de l’article.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":22,"end":36,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fagn%C3%A8s-girardot-173b1a73\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":38,"end":52,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fedouard-lavaud-4b455a140\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":54,"end":61,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Flu-wang-75ba0a1a","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":65,"end":81,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fnhut-doan-nguyen-46859152\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_128":{"__typename":"Paragraph","id":"dcc0c53904fc_128","name":"42ee","type":"H3","href":null,"layout":null,"metadata":null,"text":"A propos de l’auteur","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:dcc0c53904fc_129":{"__typename":"Paragraph","id":"dcc0c53904fc_129","name":"5e07","type":"P","href":null,"layout":null,"metadata":null,"text":"Après un doctorat en mathématiques fondamentales, Béatrice CHETARD a rejoint La Javaness en tant que data scientist en mars 2021. Elle s’intéresse à tous les aspects de la data science (données structurées, NLP, computer vision) ainsi qu’aux question d’éthique et de responsabilité des algorithmes.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":50,"end":66,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fbeatrice-chetard-6b22331a0\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":77,"end":88,"href":"https:\u002F\u002Fwww.lajavaness.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"UserViewerEdge:userId:3fb9e0369ece-viewerId:9ac7864e11b4":{"__typename":"UserViewerEdge","id":"userId:3fb9e0369ece-viewerId:9ac7864e11b4","isMuting":false},"PostViewerEdge:postId:c7675c42abb9-viewerId:9ac7864e11b4":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:c7675c42abb9-viewerId:9ac7864e11b4"},"Tag:indexing":{"__typename":"Tag","id":"indexing","displayTitle":"Indexing","normalizedTagSlug":"indexing"},"Tag:nlp":{"__typename":"Tag","id":"nlp","displayTitle":"NLP","normalizedTagSlug":"nlp"},"Tag:similarity-search":{"__typename":"Tag","id":"similarity-search","displayTitle":"Similarity Search","normalizedTagSlug":"similarity-search"},"Tag:faiss":{"__typename":"Tag","id":"faiss","displayTitle":"Faiss","normalizedTagSlug":"faiss"},"Post:c7675c42abb9":{"__typename":"Post","id":"c7675c42abb9","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"0e9a","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:dcc0c53904fc_0"},{"__ref":"Paragraph:dcc0c53904fc_1"},{"__ref":"Paragraph:dcc0c53904fc_2"},{"__ref":"Paragraph:dcc0c53904fc_3"},{"__ref":"Paragraph:dcc0c53904fc_4"},{"__ref":"Paragraph:dcc0c53904fc_5"},{"__ref":"Paragraph:dcc0c53904fc_6"},{"__ref":"Paragraph:dcc0c53904fc_7"},{"__ref":"Paragraph:dcc0c53904fc_8"},{"__ref":"Paragraph:dcc0c53904fc_9"},{"__ref":"Paragraph:dcc0c53904fc_10"},{"__ref":"Paragraph:dcc0c53904fc_11"},{"__ref":"Paragraph:dcc0c53904fc_12"},{"__ref":"Paragraph:dcc0c53904fc_13"},{"__ref":"Paragraph:dcc0c53904fc_14"},{"__ref":"Paragraph:dcc0c53904fc_15"},{"__ref":"Paragraph:dcc0c53904fc_16"},{"__ref":"Paragraph:dcc0c53904fc_17"},{"__ref":"Paragraph:dcc0c53904fc_18"},{"__ref":"Paragraph:dcc0c53904fc_19"},{"__ref":"Paragraph:dcc0c53904fc_20"},{"__ref":"Paragraph:dcc0c53904fc_21"},{"__ref":"Paragraph:dcc0c53904fc_22"},{"__ref":"Paragraph:dcc0c53904fc_23"},{"__ref":"Paragraph:dcc0c53904fc_24"},{"__ref":"Paragraph:dcc0c53904fc_25"},{"__ref":"Paragraph:dcc0c53904fc_26"},{"__ref":"Paragraph:dcc0c53904fc_27"},{"__ref":"Paragraph:dcc0c53904fc_28"},{"__ref":"Paragraph:dcc0c53904fc_29"},{"__ref":"Paragraph:dcc0c53904fc_30"},{"__ref":"Paragraph:dcc0c53904fc_31"},{"__ref":"Paragraph:dcc0c53904fc_32"},{"__ref":"Paragraph:dcc0c53904fc_33"},{"__ref":"Paragraph:dcc0c53904fc_34"},{"__ref":"Paragraph:dcc0c53904fc_35"},{"__ref":"Paragraph:dcc0c53904fc_36"},{"__ref":"Paragraph:dcc0c53904fc_37"},{"__ref":"Paragraph:dcc0c53904fc_38"},{"__ref":"Paragraph:dcc0c53904fc_39"},{"__ref":"Paragraph:dcc0c53904fc_40"},{"__ref":"Paragraph:dcc0c53904fc_41"},{"__ref":"Paragraph:dcc0c53904fc_42"},{"__ref":"Paragraph:dcc0c53904fc_43"},{"__ref":"Paragraph:dcc0c53904fc_44"},{"__ref":"Paragraph:dcc0c53904fc_45"},{"__ref":"Paragraph:dcc0c53904fc_46"},{"__ref":"Paragraph:dcc0c53904fc_47"},{"__ref":"Paragraph:dcc0c53904fc_48"},{"__ref":"Paragraph:dcc0c53904fc_49"},{"__ref":"Paragraph:dcc0c53904fc_50"},{"__ref":"Paragraph:dcc0c53904fc_51"},{"__ref":"Paragraph:dcc0c53904fc_52"},{"__ref":"Paragraph:dcc0c53904fc_53"},{"__ref":"Paragraph:dcc0c53904fc_54"},{"__ref":"Paragraph:dcc0c53904fc_55"},{"__ref":"Paragraph:dcc0c53904fc_56"},{"__ref":"Paragraph:dcc0c53904fc_57"},{"__ref":"Paragraph:dcc0c53904fc_58"},{"__ref":"Paragraph:dcc0c53904fc_59"},{"__ref":"Paragraph:dcc0c53904fc_60"},{"__ref":"Paragraph:dcc0c53904fc_61"},{"__ref":"Paragraph:dcc0c53904fc_62"},{"__ref":"Paragraph:dcc0c53904fc_63"},{"__ref":"Paragraph:dcc0c53904fc_64"},{"__ref":"Paragraph:dcc0c53904fc_65"},{"__ref":"Paragraph:dcc0c53904fc_66"},{"__ref":"Paragraph:dcc0c53904fc_67"},{"__ref":"Paragraph:dcc0c53904fc_68"},{"__ref":"Paragraph:dcc0c53904fc_69"},{"__ref":"Paragraph:dcc0c53904fc_70"},{"__ref":"Paragraph:dcc0c53904fc_71"},{"__ref":"Paragraph:dcc0c53904fc_72"},{"__ref":"Paragraph:dcc0c53904fc_73"},{"__ref":"Paragraph:dcc0c53904fc_74"},{"__ref":"Paragraph:dcc0c53904fc_75"},{"__ref":"Paragraph:dcc0c53904fc_76"},{"__ref":"Paragraph:dcc0c53904fc_77"},{"__ref":"Paragraph:dcc0c53904fc_78"},{"__ref":"Paragraph:dcc0c53904fc_79"},{"__ref":"Paragraph:dcc0c53904fc_80"},{"__ref":"Paragraph:dcc0c53904fc_81"},{"__ref":"Paragraph:dcc0c53904fc_82"},{"__ref":"Paragraph:dcc0c53904fc_83"},{"__ref":"Paragraph:dcc0c53904fc_84"},{"__ref":"Paragraph:dcc0c53904fc_85"},{"__ref":"Paragraph:dcc0c53904fc_86"},{"__ref":"Paragraph:dcc0c53904fc_87"},{"__ref":"Paragraph:dcc0c53904fc_88"},{"__ref":"Paragraph:dcc0c53904fc_89"},{"__ref":"Paragraph:dcc0c53904fc_90"},{"__ref":"Paragraph:dcc0c53904fc_91"},{"__ref":"Paragraph:dcc0c53904fc_92"},{"__ref":"Paragraph:dcc0c53904fc_93"},{"__ref":"Paragraph:dcc0c53904fc_94"},{"__ref":"Paragraph:dcc0c53904fc_95"},{"__ref":"Paragraph:dcc0c53904fc_96"},{"__ref":"Paragraph:dcc0c53904fc_97"},{"__ref":"Paragraph:dcc0c53904fc_98"},{"__ref":"Paragraph:dcc0c53904fc_99"},{"__ref":"Paragraph:dcc0c53904fc_100"},{"__ref":"Paragraph:dcc0c53904fc_101"},{"__ref":"Paragraph:dcc0c53904fc_102"},{"__ref":"Paragraph:dcc0c53904fc_103"},{"__ref":"Paragraph:dcc0c53904fc_104"},{"__ref":"Paragraph:dcc0c53904fc_105"},{"__ref":"Paragraph:dcc0c53904fc_106"},{"__ref":"Paragraph:dcc0c53904fc_107"},{"__ref":"Paragraph:dcc0c53904fc_108"},{"__ref":"Paragraph:dcc0c53904fc_109"},{"__ref":"Paragraph:dcc0c53904fc_110"},{"__ref":"Paragraph:dcc0c53904fc_111"},{"__ref":"Paragraph:dcc0c53904fc_112"},{"__ref":"Paragraph:dcc0c53904fc_113"},{"__ref":"Paragraph:dcc0c53904fc_114"},{"__ref":"Paragraph:dcc0c53904fc_115"},{"__ref":"Paragraph:dcc0c53904fc_116"},{"__ref":"Paragraph:dcc0c53904fc_117"},{"__ref":"Paragraph:dcc0c53904fc_118"},{"__ref":"Paragraph:dcc0c53904fc_119"},{"__ref":"Paragraph:dcc0c53904fc_120"},{"__ref":"Paragraph:dcc0c53904fc_121"},{"__ref":"Paragraph:dcc0c53904fc_122"},{"__ref":"Paragraph:dcc0c53904fc_123"},{"__ref":"Paragraph:dcc0c53904fc_124"},{"__ref":"Paragraph:dcc0c53904fc_125"},{"__ref":"Paragraph:dcc0c53904fc_126"},{"__ref":"Paragraph:dcc0c53904fc_127"},{"__ref":"Paragraph:dcc0c53904fc_128"},{"__ref":"Paragraph:dcc0c53904fc_129"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:3fb9e0369ece"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Flajavaness.medium.com\u002Findexation-et-recherche-avec-faiss-c7675c42abb9","primaryTopic":null,"topics":[],"isLimitedState":false,"isPublished":true,"allowResponses":true,"responsesLocked":false,"visibility":"PUBLIC","latestPublishedVersion":"dcc0c53904fc","postResponses":{"__typename":"PostResponses","count":0},"responseDistribution":"NOT_DISTRIBUTED","clapCount":66,"title":"Indexation et recherche de similarité avec Faiss","isSeries":false,"sequence":null,"uniqueSlug":"indexation-et-recherche-avec-faiss-c7675c42abb9","socialTitle":"","socialDek":"","canonicalUrl":"","metaDescription":"","latestPublishedAt":1675696230869,"readingTime":13.906603773584907,"previewContent":{"__typename":"PreviewContent","subtitle":"Cet article a pour but d’expliquer quelques-uns des algorithmes de recherche de similarité implémentés dans faiss, une bibliothèque…"},"previewImage":{"__ref":"ImageMetadata:1*AnXWj9GRJnPYwX5w5otvyw.png"},"isShortform":false,"seoTitle":"","firstPublishedAt":1675670552407,"updatedAt":1675743376515,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","viewerEdge":{"__ref":"PostViewerEdge:postId:c7675c42abb9-viewerId:9ac7864e11b4"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:indexing"},{"__ref":"Tag:nlp"},{"__ref":"Tag:similarity-search"},{"__ref":"Tag:faiss"}],"isFeaturedInPublishedPublication":false,"isNewsletter":false,"statusForCollection":null,"pendingCollection":null,"detectedLanguage":"fr","wordCount":3407,"layerCake":0}}</script><script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/manifest.6bc3ee1f.js.téléchargement"></script><script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/9865.1496d74a.js.téléchargement"></script><script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/main.c6020074.js.téléchargement"></script><script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/instrumentation.5bef8967.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/reporting.ff22a7a5.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/5049.d1ead72d.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/4505.6dfaf853.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6618.db187378.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/9380.fb176dee.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2707.2278ed76.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/9977.933c1c9a.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/8599.2418028f.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/3045.1cc3d8cb.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6349.3329b100.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2648.26563adf.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/8393.67b7130d.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6428.1164cc97.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6199.3b90990d.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/5642.472363b5.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6546.6ba897d2.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6834.8aa8d357.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2107.a45f417e.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2571.6814b962.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/839.1c286b32.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/6128.f8800a13.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2135.6ef5c5cf.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/7975.60bcefe8.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/144.bb26ca90.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/5240.6281357f.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/8819.c627c2bf.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/8204.2636b118.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/1201.8abafe50.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/PostPage.MainContent.d830c9c3.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/8414.0d800846.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/3974.8d3e0217.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/2527.b9f95853.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/PostResponsesContent.8fccab9f.chunk.js.téléchargement"></script>
<script src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/responses.editor.33e18640.chunk.js.téléchargement"></script><script>window.main();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'91fe391d5a987027',t:'MTc0MTg5NzEzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/saved_resource(1).html"></iframe><script defer="" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;91fe391d5a987027&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;version&quot;:&quot;2025.1.0&quot;,&quot;token&quot;:&quot;0b5f665943484354a59c39c6833f7078&quot;}" crossorigin="anonymous"></script>
<div><div class="grecaptcha-badge" data-style="bottomright" style="width: 256px; height: 60px; display: block; transition: right 0.3s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;"><div class="grecaptcha-logo"><iframe title="reCAPTCHA" width="256" height="60" role="presentation" name="a-pl38tlpkn265" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/anchor.html"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response-100000" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./Indexation et recherche de similarité avec Faiss _ by La Javaness R&amp;D _ Medium_files/saved_resource(2).html"></iframe></div></body></html>